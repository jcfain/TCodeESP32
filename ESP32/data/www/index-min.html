<!DOCTYPE html PUBLIC"-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><meta content="text/html;charset=utf-8" http-equiv="Content-Type"><meta content="utf-8" http-equiv="encoding"><head><title>TCode ESP32</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="style-min.css"><script type="text/javascript" src="settings-min.js"></script></head><body><div id="errorMessage" hidden="true"><div class="error"><span class="errorHeader">Oops!</span><span id="errorText" class="errorText"></span><button class="errorButton" onclick="closeError()"><span class="x">X</span></button></div></div><div id="info" class="info" hidden="true"></div><div id="requiresRestart" hidden="true" class="restartRequired">Restart required!!</div><h1>Device Settings</h1><div class="rootTable"><div><table id="wirelessSettingsTable" class="formTable"><tbody><tr><th colspan="2"><h3>Wireless</h3></th></tr><tr title="The ESP32 currently only supports 2.4ghz connections.\nIf you enter a 5ghz ssid here your ESP32 WILL NOT CONNECT!"><td><span>SSID (2.4ghz only)</span></td><td><input id="ssid" type="text" maxlength="32" oninput="updateWifiSettings()"></td></tr><tr><td><span>Password</span></td><td><input id="wifiPass" type="password" maxlength="63" oninput="updateWifiSettings()"></td></tr><tr><td></td><td><input type="checkbox" onclick="showWifiPassword()">Show Password</input></td></tr><tr><td><span>Static IP</span></td><td><input id="staticIP" type="checkbox" onclick="updateWifiSettings()"></input></td></tr><tr id="localIP"><td><span id="localIPLabel">IP</span></td><td><input id="localIPInput" type="text" maxlength="15" oninput="updateWifiSettings()"></td></tr><tr id="gateway" ><td><span id="gatewayLabel">Gateway</span></td><td><input id="gatewayInput" type="text" maxlength="15" oninput="updateWifiSettings()"></td></tr><tr id="subnet"><td><span id="subnetLabel">Subnet</span></td><td><input id="subnetInput" type="text" maxlength="15" oninput="updateWifiSettings()"></td></tr><tr id="dns1"><td><span id="dns1Label">DNS 1</span></td><td><input id="dns1Input" type="text" maxlength="15" oninput="updateWifiSettings()"></td></tr><tr id="dns2"><td><span id="dns2Label">DNS 2</span></td><td><input id="dns2Input" type="text" maxlength="15" oninput="updateWifiSettings()"></td></tr></tbody></table><table id="deviceSettingsTable" class="formTable"><tbody><tr><th colspan="3"><h3>General</h3></th></tr><tr title="Choose the version of TCode you want the firmware to use."><td><span>TCode version</span></td><td><select name="TCodeVersion" id="TCodeVersion" onchange="setTCodeVersion()"></select></td></tr><tr title="Uncheck this if you are building an OSR"><td><span>SR6 mode</span></td><td><input id="sr6Mode" type="checkbox" onclick="setSR6Mode()"></input></td></tr><tr title="This sets the frequency of the main servos. L/R and Pitch\nif 'Pitch Frequency is different' is NOT checked"><td><span>Servo Frequency (hz)</span></td><td><input id="servoFrequency" type="number" min="1" oninput="updateServoFrequency()"></td></tr><tr title="This sets the frequency of the main servos. L/R and Pitch"><td><span>Pitch Frequency is different</span></td><td><input id="pitchFrequencyIsDifferent" type="checkbox" onclick="setPitchFrequencyIsDifferent()"></input></td></tr><tr id="pitchFrequencyRow" title="This sets the frequency of the pitch servos."><td><span>Pitch Frequency (hz)</span></td><td><input id="pitchFrequency" type="number" min="1" oninput="updateServoFrequency()"></td></tr><tr title="This sets the frequency of the valve servo."><td><span>Valve Frequency (hz)</span></td><td><input id="valveFrequency" type="number" min="1" oninput="updateServoFrequency()"></td></tr><tr title="This sets the frequency of the twist servo."><td><span>Twist Frequency (hz)</span></td><td><input id="twistFrequency" type="number" min="1" oninput="updateServoFrequency()"></td></tr><tr title="This sets the frequency of the squeeze servo."><td><span>Squeeze Frequency (hz)</span></td><td><input id="squeezeFrequency" type="number" min="1" oninput="updateServoFrequency()"></td></tr><tr><td><span>Micro seconds per radian (&#181;)</span></td><td><input id="msPerRad" type="number" min="1" oninput="updateMSPerRad()"></td></tr><tr class="servoHeader"><td><span>Servo</span></td><td><span>PIN</span></td><td><span>ZERO (&#181;)</span></td></tr><tr><td><span>Right</span></td><td><input id="RightServo_PIN" type="number" max="99" min="1" oninput="updatePins()"></td><td><input id="RightServo_ZERO" type="number" max="9999" min="1" oninput="updateZeros()"></td></tr><tr><td><span>Left</span></td><td><input id="LeftServo_PIN" type="number" max="99" min="1" oninput="updatePins()"></td><td><input id="LeftServo_ZERO" type="number" max="9999" min="1" oninput="updateZeros()"></td></tr><tr><td><span>Pitch</span></td><td><input id="PitchLeftServo_PIN" type="number" max="99" min="1" oninput="updatePins()"></td><td><input id="PitchLeftServo_ZERO" type="number" max="9999" min="1" oninput="updateZeros()"></td></tr><tr><td><span>Valve</span></td><td><input id="ValveServo_PIN" type="number" max="99" min="1" oninput="updatePins()"></td><td><input id="ValveServo_ZERO" type="number" max="9999" min="1" oninput="updateZeros()"></td></tr><tr class="v3Only"><td><span>Squeeze</span></td><td><input id="Squeeze_PIN" type="number" max="99" min="1" oninput="updatePins()"></td><td><input id="Squeeze_ZERO" type="number" max="9999" min="1" oninput="updateZeros()"></td></tr><tr><td><span>Twist</span></td><td><input id="TwistServo_PIN" type="number" max="99" min="1" oninput="updatePins()"></td><td><input id="TwistServo_ZERO" type="number" max="9999" min="1" oninput="updateZeros()"></td></tr><tr class="feedbackTwistOnly"><td><span>Twist feedback</span></td><td><input id="TwistFeedBack_PIN" type="number" max="99" min="1" oninput="updatePins()"></td></tr><tr><td><span>Vibe 0</span></td><td><input id="Vibe0_PIN" type="number" max="99" min="1" oninput="updatePins()"></td></tr><tr><td><span>Lube/Vibe 1</span></td><td><input id="Vibe1_PIN" type="number" max="99" min="1" oninput="updatePins()"></td></tr><tr><td><span>Lube button</span></td><td><input id="LubeButton_PIN" type="number" max="99" min="1" oninput="updatePins()"></td></tr><tr class="pwmAvaliblePinRow"><td colspan="3"><span>PWM availible on: 2,4,5,12-19,21-23,25-27,32,33</span></td></tr></tbody></table><table id="deviceSR6SettingsTable" class="formTable sr6Only"><tbody><tr><th colspan="3"><h3>SR6</h3></th></tr><tr class="servoHeader"><td><span>Servo</span></td><td><span>PIN</span></td><td><span>ZERO (&#181;)</span></td></tr><tr><td><span>Right upper</span></td><td><input id="RightUpperServo_PIN" type="number" max="99" min="1" oninput="updatePins()"></td><td><input id="RightUpperServo_ZERO" type="number" max="9999" min="1" oninput="updateZeros()"></td></tr><tr><td><span>Left upper</span></td><td><input id="LeftUpperServo_PIN" type="number" max="99" min="1" oninput="updatePins()"></td><td><input id="LeftUpperServo_ZERO" type="number" max="9999" min="1" oninput="updateZeros()"></td></tr><tr><td><span>Pitch right</span></td><td><input id="PitchRightServo_PIN" type="number" max="99" min="1" oninput="updatePins()"></td><td><input id="PitchRightServo_ZERO" type="number" max="9999" min="1" oninput="updateZeros()"></td></tr><tr class="pwmAvaliblePinRow"><td colspan="3"><span>PWM availible on: 2,4,5,12-19,21-23,25-27,32,33</span></td></tr></tbody></table><table class="formTable"><tbody><tr><th colspan="2"><h3>Other</h3></th></tr><tr title="This will revert the T-Valve to the original behavior. (Depricated)" class="v2Only"><td><span>Auto T-Valve</span></td><td><input id="autoValve" type="checkbox" onclick="setAutoValve()"></input></td></tr><tr title="Check this if your T-Valve micro servo closes on down stroke. aka:MG90S"><td><span>Inverse T-Valve</span></td><td><input id="inverseValve" type="checkbox" onclick="setInverseValve()"></input></td></tr><tr title="Check this if your T-Valve micro servo is 90 degrees range instead of 180. aka:MG90S"><td><span>T-Valve 90 degree servo</span></td><td><input id="valveServo90Degrees" type="checkbox" onclick="setValveServo90Degrees()"></input></td></tr><tr><td><span>Inverse Stroke</span></td><td><input id="inverseStroke" type="checkbox" onclick="setInverseStroke()"></input></td></tr><tr class="osrOnly"><td><span>Inverse Pitch</span></td><td><input id="inversePitch" type="checkbox" onclick="setInversePitch()"></input></td></tr><tr><td><span>Feedback twist</span></td><td><input id="feedbackTwist" type="checkbox" onchange="updateFeedbackTwist()"></td></tr><tr class="feedbackTwistOnly"><td><span>Continuous twist</span></td><td><input id="continuousTwist" type="checkbox" onchange="updateContinuousTwist()"></td></tr><tr id="analogTwistRow" class="v3Only feedbackTwistOnly"><td><span>Analog twist</span></td><td><input id="analogTwist" type="checkbox" onchange="updateAnalogTwist()"></td></tr><tr class="v3Only" title="Enable this and the firmware will treat the second vibe channel like the lube channel."><td><span>Lube enabled</span></td><td><input id="lubeEnabled" type="checkbox" onchange="updateLubeEnabled()"></td></tr><tr><td><span>Manual lube speed (1-255)</span></td><td><input id="lubeAmount" type="number" max="255" oninput="updateLubeAmount()"></td></tr><tr title="The UDP port on which TCode is sent over the network on. Change this if you have a conflict on your local network.\nOtherwise, just leave it be."><td><span>Udp port</span></td><td><input id="udpServerPort" type="number" max="65,535" min="1" oninput="updateUdpPort()"></td></tr><tr title="Web server port used to access this page and websocket input. Change this if you have a conflict on your local network.\nOtherwise, just leave it be."><td><span>Web port</span></td><td><input id="webServerPort" type="text" max="65,535" oninput="updateWebPort()"></td></tr><tr title="This is the name of the device you will use to access this page after WiFi connection. default(tcode.local)\nSome routers DO NOT support mDNS so you may need to use the IP address anyways.\n\nYou may also use this address in some apps (XTP) to send TCode over the network."><td><span>Host name</span></td><td><input id="hostname" type="text" maxlength="63" oninput="updateHostName()"></td></tr><tr><td><span>Friendly name</span></td><td><input id="friendlyName" type="text" maxlength="100" oninput="updateFriendlyName()"></td></tr><tr class="build_display"><td><span>Display enabled</span></td><td><input id="displayEnabled" type="checkbox" onclick="setDisplaySettings()"></td></tr><tr class="build_temprature"><td><span>Sleeve temperature control enabled</span></td><td><input id="tempSleeveEnabled" type="checkbox" onclick="setTempSettings()"></input></td></tr><tr class="build_temprature"><td><span>Internal temperature enabled</span></td><td><input id="tempInternalEnabled" type="checkbox" onclick="setInternalTempSettings()"></input></td></tr></tbody></table><table id="tempSettingsDisplayTable" class="formTable"><tbody><tr><th colspan="2"><h3>Sleeve temperature</h3></th></tr><tr><td><span>Sleeve temp sensor pin</span></td><td><input id="Temp_PIN" type="number" min="1" oninput="updatePins()"></td></tr><tr><td><span>Heater pin</span></td><td><input id="Heater_PIN" type="number" min="1" oninput="updatePins()"></td></tr><tr><td><span>Target Temperature (&#8451;)</span></td><td><input id="TargetTemp" type="text" oninput="setTempSettings()"></td></tr><tr title="This will be sent to the heater pin when the measured temp is below the 'Target Temperature'"><td><span>Heat PWM</span></td><td><input id="HeatPWM" type="text" oninput="setTempSettings()"></td></tr><tr title="This will be sent to the heater pin when the measured temp is above the 'Target Temperature' + 'Heater hold threshold'"><td><span>Hold PWM</span></td><td><input id="HoldPWM" type="text" oninput="setTempSettings()"></td></tr><tr title="The 'Hold PWM' specified above will be sent while the temp less than or equal to:'Target Temperature' + 'Heater hold threshold'"><td><span>Heater hold threshold (&#8451;)</span></td><td><input id="heaterThreshold" type="text" oninput="setTempSettings()"></td></tr><tr title="When the device is first started, this timer will count down and send the Heat PWM specified above until either the target has been reached or the time runs out."><td><span>Warm up time (ms)</span></td><td><input id="WarmUpTime" type="text" oninput="setTempSettings()"></td></tr><tr><td><span>Heater resolution (bit)</span></td><td><input id="heaterResolution" type="text" oninput="setTempSettings()"></td></tr><tr><td><span>Heater frequency (hz)</span></td><td><input id="heaterFrequency" type="text" oninput="setTempSettings()"></td></tr><tr><td><span>Sleeve temp (&#8451;)</span></td><td><input id="currentTemp" type="text" readonly></td></tr><tr><td><span>Status</span></td><td><input id="currentTempStatus" type="text" readonly></td></tr><tr><td><span>Play sound</span></td><td><input id="soundsEnabled" type="checkbox" onclick="toggleSounds()"></input><button type="button" hidden name="testSoundButton" onclick="playSuccess()">Test target reached</button></td></tr></tbody></table><table id="internalTempTable" class="formTable"><tbody><tr><th colspan="2"><h3>Internal temperature</h3></th></tr><tr><td><span>Internal temp PIN</span></td><td><input id="Internal_Temp_PIN" type="number" min="0" oninput="updatePins()"></td></tr><tr><td><span>Internal temp (&#8451;)</span></td><td><input id="internalTemp" type="text" readonly></td></tr><tr><td><span>Fan control enabled</span></td><td><input id="fanControlEnabled" type="checkbox" onclick="setFanControl()"></td></tr><tr class="fan-control"><td><span>Fan status</span></td><td><input id="internalTempStatus" type="text" readonly></td></tr><tr class="fan-control"><td><span>Fan on temp (&#8451;)</span></td><td><input id="internalTempForFan" type="number" min="0" oninput="setFanOnTemp()"></td></tr><tr class="fan-control"><td><span>Fan PWM PIN</span></td><td><input id="Case_Fan_PIN" type="number" min="0" oninput="updatePins()"></td></tr><tr class="fan-control"><td><span>Fan frequency (hz)</span></td><td><input id="caseFanFrequency" type="number" min="0" oninput="setInternalTempSettings()"></td></tr><tr class="fan-control"><td><span>Fan resolution (bit)</span></td><td><input id="caseFanResolution" type="number" min="0" oninput="setInternalTempSettings()"></td></tr></tbody></table><table id="deviceSettingsDisplayTable" class="formTable fullBuild"><tbody><tr><th colspan="2"><h3>Display</h3></th></tr><tr><td><span>I2C address</span></td><td><input id="Display_I2C_Address" type="text" oninput="setDisplaySettings()"></td></tr><tr><td><span>Display is 32px</span></td><td><input id="displayIs32Px" type="checkbox" onclick="setDiplayIs32Px()"></td></tr><tr><td><span>Screen width (px)</span></td><td><input id="Display_Screen_Width" type="text" oninput="setDisplaySettings()"></td></tr><tr><td><span>Screen height (px)</span></td><td><input id="Display_Screen_Height" type="text" oninput="setDisplaySettings()"></td></tr><tr><td><span>System version displayed</span></td><td><input id="versionDisplayed" type="checkbox" onclick="setDisplaySettings()"></input></td></tr><tr id="sleeveTempDisplayedRow"><td><span>Sleeve temperature displayed</span></td><td><input id="sleeveTempDisplayed" type="checkbox" onclick="setDisplaySettings()"></input></td></tr><tr id="internalTempDisplayedRow"><td><span>Internal temperature displayed</span></td><td><input id="internalTempDisplayed" type="checkbox" onclick="setDisplaySettings()"></input></td></tr></tbody></table><table id="channelTestsTable" class="formTable"></table><table id="systemInfoTable" class="formTable"><tr><th colspan="2"><h3>System information</h3></th></tr><tr><td><span>Version</span></td><td><input id="version" type="text" readonly></td></tr><tr><td><span>IP</span></td><td><input id="ipAddressSystemInfo" type="text" readonly></td></tr><tr><td><span>Gateway</span></td><td><input id="gatewaySystemInfo" type="text" readonly></td></tr><tr><td><span>Subnet</span></td><td><input id="subnetSystemInfo" type="text" readonly></td></tr><tr><td><span>DNS</span></td><td><input id="dnsSystemInfo" type="text" readonly></td></tr><tr><td><span>Chip model</span></td><td><input id="chipModel" type="text" readonly></td></tr><tr><td><span>Chip revision</span></td><td><input id="chipRevision" type="text" readonly></td></tr><tr><td><span>Chip cores</span></td><td><input id="chipCores" type="text" readonly></td></tr><tr><td><span>Chip ID</span></td><td><input id="chipID" type="text" readonly></td></tr><tr title="Set to show output in the text area. Note: Verbose level will NOT show. See the serial for that message level"><td><span>Debug</span></td><td><select name="debug" id="debug" onchange="setDebug()"><option value="0">ERROR</option><option value="1">WARNING</option><option value="2">INFO</option><option value="3">DEBUG</option><option value="4">VERBOSE</option></select></td></tr><tr><td><span>Last reboot reason</span></td><td><input id="lastRebootReason" type="text" readonly></td></tr></table></div></div><button id="resetBtn" class="formButton" name="reset" onclick="onRestartClick()">Restart device</button><button id="exportBtn" class="formButton" onclick="exportToJsonFile()">Export settings</button><button id="importBtn" class="formButton" onclick="openImportSettingsFileDialog()">Import settings</button></br></br></br><button id="resetSettingsBtn" class="formButton" onclick="onDefaultClick()">Reset ALL settings</button><div id="loadingModal" class="loading-modal"><div id="loadingContainer" class="loading-container"><div class="loading-spinner"></div><div id="loadingStatus" class="loading-status">Loading...</div></div></div></body></html>