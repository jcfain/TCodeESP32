DeviceRangeSlider={setup(){var e=getChannelMap(),n=document.getElementById("deviceRangesTable");deleteAllChildren(n);for(var a=0;a<e.length;a++){var t=e[a];if(!(!userSettings.sr6Mode&&t.sr6Only||t.switch)){var i=t.channel,l=t.channelName;if(!userSettings.channelRanges)return;var d=1,s=getTCodeMax();userSettings.channelRanges[i]&&(s=userSettings.channelRanges[i].max,d=userSettings.channelRanges[i].min);var r=document.createElement("div");r.innerText=l,r.classList.add("range_container_header");var c=document.createElement("div");c.classList.add("sliders_control");var o=document.createElement("input");o.id="minSlider"+i,o.type="range",o.min=1,o.max=getTCodeMax(),o.value=d,c.appendChild(o);var u=document.createElement("input");u.id="maxSlider"+i,u.type="range",u.min=1,u.max=getTCodeMax(),u.value=s,c.appendChild(u);var m=document.createElement("div");m.classList.add("form_control");var h=document.createElement("div");h.classList.add("form_control_container");var v=document.createElement("div");v.classList.add("form_control_container__min"),v.innerText="Min",h.appendChild(v);var g=document.createElement("input");g.id="minInput"+i,g.type="number",g.min=1,g.max=getTCodeMax(),g.value=d,h.appendChild(g);var p=document.createElement("div");p.classList.add("form_control_container"),m.appendChild(p);var C=document.createElement("div");C.classList.add("form_control_container__max"),C.innerText="Max",p.appendChild(C);var x=document.createElement("input");x.id="maxInput"+i,x.type="number",x.min=1,x.max=getTCodeMax(),x.value=s,p.appendChild(x),m.appendChild(h),m.appendChild(p);var S=document.createElement("div");S.classList.add("range_container"),S.appendChild(r),S.appendChild(c),S.appendChild(m),n.appendChild(S),this.fillSlider(o,u,"#C6C6C6","#25daa5",u),this.setToggleAccessible(u,u),o.oninput=function(e,n,a,t,i){this.controlMinSlider(e,n,a,t,n,i)}.bind(this,o,u,g,x,i),u.oninput=function(e,n,a,t,i){this.controlMaxSlider(e,n,a,t,n,i)}.bind(this,o,u,g,x,i),g.oninput=function(e,n,a,t,i){this.controlMinInput(e,n,a,t,n,i)}.bind(this,o,u,g,x,i),x.oninput=function(e,n,a,t,i){this.controlMaxInput(e,n,a,t,n,i)}.bind(this,o,u,g,x,i)}}},show(){document.getElementById("deviceRangesModal").show()},controlMinInput(e,n,a,t,i,l){const[d,s]=this.getParsed(a,t);this.fillSlider(a,t,"#C6C6C6","#25daa5",i),t.min=d,a.max=s,a.checkValidity()&&(e.value=a.value,this.setChannelRange(l,e.value,s),sendTCode(l+e.value+"S1000"))},controlMaxInput(e,n,a,t,i,l){const[d,s]=this.getParsed(a,t);this.fillSlider(a,t,"#C6C6C6","#25daa5",i),this.setToggleAccessible(t,n),t.min=d,a.max=s,t.checkValidity()&&(n.value=t.value,this.setChannelRange(l,d,t.value),sendTCode(l+t.value+"S1000"))},controlMinSlider(e,n,a,t,i,l){const[d,s]=this.getParsed(e,n);this.fillSlider(e,n,"#C6C6C6","#25daa5",i),d>s?(e.value=s,a.value=s):a.value=d,this.setChannelRange(l,a.value,s),sendTCode(l+a.value+"S1000")},controlMaxSlider(e,n,a,t,i,l){const[d,s]=this.getParsed(e,n);this.fillSlider(e,n,"#C6C6C6","#25daa5",i),this.setToggleAccessible(n,n),d<=s?(n.value=s,t.value=s):(t.value=d,n.value=d),this.setChannelRange(l,d,n.value),sendTCode(l+n.value+"S1000")},setChannelRange(e,n,a){userSettings.channelRanges[e].min=n,userSettings.channelRanges[e].max=a,updateUserSettings()},getParsed:(e,n)=>[parseInt(e.value,10),parseInt(n.value,10)],fillSlider(e,n,a,t,i){const l=n.max-n.min,d=e.value-n.min,s=n.value-n.min;i.style.background=`linear-gradient(\n        max right,\n        ${a} 0%,\n        ${a} ${d/l*100}%,\n        ${t} ${d/l*100}%,\n        ${t} ${s/l*100}%, \n        ${a} ${s/l*100}%, \n        ${a} 100%)`},setToggleAccessible(e,n){Number(e.value)<=0?n.style.zIndex=2:n.style.zIndex=0}};