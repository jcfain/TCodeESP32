DeviceRangeSlider={setup(){var channels=getChannelMap(),deviceRangesTable=document.getElementById("deviceRangesTable");deleteAllChildren(deviceRangesTable);for(var i=0;i<channels.length;i++){var channel=channels[i];if(!(!isSR6()&&channel.sr6Only||channel.switch)){var name=channel.channel,friendlyName=channel.channelName;if(!userSettings.channelRanges)return;var min=1,max=getTCodeMax();userSettings.channelRanges[name]&&(max=userSettings.channelRanges[name].max,min=userSettings.channelRanges[name].min);var sliderHeader=document.createElement("div");sliderHeader.innerText=friendlyName,sliderHeader.classList.add("range_container_header");var sliderControl=document.createElement("div");sliderControl.classList.add("sliders_control");var minSlider=document.createElement("input");minSlider.id="minSlider"+name,minSlider.type="range",minSlider.min=1,minSlider.max=getTCodeMax(),minSlider.value=min,sliderControl.appendChild(minSlider);var maxSlider=document.createElement("input");maxSlider.id="maxSlider"+name,maxSlider.type="range",maxSlider.min=1,maxSlider.max=getTCodeMax(),maxSlider.value=max,sliderControl.appendChild(maxSlider);var formControl=document.createElement("div");formControl.classList.add("form_control");var formControlContainer=document.createElement("div");formControlContainer.classList.add("form_control_container");var formControlContainerMin=document.createElement("div");formControlContainerMin.classList.add("form_control_container__min"),formControlContainerMin.innerText="Min",formControlContainer.appendChild(formControlContainerMin);var minInput=document.createElement("input");minInput.id="minInput"+name,minInput.type="number",minInput.min=1,minInput.max=getTCodeMax(),minInput.value=min,formControlContainer.appendChild(minInput);var formControlContainer2=document.createElement("div");formControlContainer2.classList.add("form_control_container"),formControl.appendChild(formControlContainer2);var formControlContainerMax=document.createElement("div");formControlContainerMax.classList.add("form_control_container__max"),formControlContainerMax.innerText="Max",formControlContainer2.appendChild(formControlContainerMax);var maxInput=document.createElement("input");maxInput.id="maxInput"+name,maxInput.type="number",maxInput.min=1,maxInput.max=getTCodeMax(),maxInput.value=max,formControlContainer2.appendChild(maxInput),formControl.appendChild(formControlContainer),formControl.appendChild(formControlContainer2);var rangeContainer=document.createElement("div");rangeContainer.classList.add("range_container"),rangeContainer.appendChild(sliderHeader),rangeContainer.appendChild(sliderControl),rangeContainer.appendChild(formControl),deviceRangesTable.appendChild(rangeContainer),this.fillSlider(minSlider,maxSlider,"#C6C6C6","#25daa5",maxSlider),this.setToggleAccessible(maxSlider,maxSlider),minSlider.oninput=function(minSlider,maxSlider,minInput,maxInput,name){this.controlMinSlider(minSlider,maxSlider,minInput,maxInput,maxSlider,name)}.bind(this,minSlider,maxSlider,minInput,maxInput,name),maxSlider.oninput=function(minSlider,maxSlider,minInput,maxInput,name){this.controlMaxSlider(minSlider,maxSlider,minInput,maxInput,maxSlider,name)}.bind(this,minSlider,maxSlider,minInput,maxInput,name),minInput.oninput=function(minSlider,maxSlider,minInput,maxInput,name){this.controlMinInput(minSlider,maxSlider,minInput,maxInput,maxSlider,name)}.bind(this,minSlider,maxSlider,minInput,maxInput,name),maxInput.oninput=function(minSlider,maxSlider,minInput,maxInput,name){this.controlMaxInput(minSlider,maxSlider,minInput,maxInput,maxSlider,name)}.bind(this,minSlider,maxSlider,minInput,maxInput,name)}}},show(){document.getElementById("deviceRangesModal").show()},controlMinInput(minSlider,maxSlider,minInput,maxInput,controlSlider,channelName){const[min,max]=this.getParsed(minInput,maxInput);this.fillSlider(minInput,maxInput,"#C6C6C6","#25daa5",controlSlider),maxInput.min=min,minInput.max=max,minInput.checkValidity()&&(minSlider.value=minInput.value,this.setChannelRange(channelName,minSlider.value,max),sendTCode(channelName+minSlider.value+"S1000"))},controlMaxInput(minSlider,maxSlider,minInput,maxInput,controlSlider,channelName){const[min,max]=this.getParsed(minInput,maxInput);this.fillSlider(minInput,maxInput,"#C6C6C6","#25daa5",controlSlider),this.setToggleAccessible(maxInput,maxSlider),maxInput.min=min,minInput.max=max,maxInput.checkValidity()&&(maxSlider.value=maxInput.value,this.setChannelRange(channelName,min,maxInput.value),sendTCode(channelName+maxInput.value+"S1000"))},controlMinSlider(minSlider,maxSlider,minInput,maxInput,controlSlider,channelName){const[min,max]=this.getParsed(minSlider,maxSlider);this.fillSlider(minSlider,maxSlider,"#C6C6C6","#25daa5",controlSlider),min>max?(minSlider.value=max,minInput.value=max):minInput.value=min,this.setChannelRange(channelName,minInput.value,max),sendTCode(channelName+minInput.value+"S1000")},controlMaxSlider(minSlider,maxSlider,minInput,maxInput,controlSlider,channelName){const[min,max]=this.getParsed(minSlider,maxSlider);this.fillSlider(minSlider,maxSlider,"#C6C6C6","#25daa5",controlSlider),this.setToggleAccessible(maxSlider,maxSlider),min<=max?(maxSlider.value=max,maxInput.value=max):(maxInput.value=min,maxSlider.value=min),this.setChannelRange(channelName,min,maxSlider.value),sendTCode(channelName+maxSlider.value+"S1000")},setChannelRange(channelName,min,max){userSettings.channelRanges[channelName].min=min,userSettings.channelRanges[channelName].max=max,updateUserSettings()},getParsed:(currentFrom,currentTo)=>[parseInt(currentFrom.value,10),parseInt(currentTo.value,10)],fillSlider(minSlider,maxSlider,sliderColor,rangeColor,controlSlider){const rangeDistance=maxSlider.max-maxSlider.min,minPosition=minSlider.value-maxSlider.min,maxPosition=maxSlider.value-maxSlider.min;controlSlider.style.background=`linear-gradient(\n        max right,\n        ${sliderColor} 0%,\n        ${sliderColor} ${minPosition/rangeDistance*100}%,\n        ${rangeColor} ${minPosition/rangeDistance*100}%,\n        ${rangeColor} ${maxPosition/rangeDistance*100}%, \n        ${sliderColor} ${maxPosition/rangeDistance*100}%, \n        ${sliderColor} 100%)`},setToggleAccessible(currentTarget,maxSlider){Number(currentTarget.value)<=0?maxSlider.style.zIndex=2:maxSlider.style.zIndex=0}};