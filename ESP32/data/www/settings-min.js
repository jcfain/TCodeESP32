var upDateTimeout,infoNode,importSettingsInputElement,websocket,userSettings={},systemInfo={},restartRequired=!1,documentLoaded=!1,debugEnabled=!0,playSounds=!1;const TCodeVersion={V2:0,V3:1},availableVersions=[{version:TCodeVersion.V2,versionName:"v0.2"},{version:TCodeVersion.V3,versionName:"v0.3"}],latestTCodeVersion=TCodeVersion.V3,LogLevel={ERROR:0,WARNING:1,INFO:2,DEBUG:3,VERBOSE:4},BoardType={DEVKIT:0,CRIMZZON:1,ISAAC:2},BuildFeature={NONE:0,DEBUG:1,WIFI:2,BLUETOOTH:3,DA:4,DISPLAY_:5,TEMP:6,HAS_TCODE_V2:7,HTTPS:8},MotorType={Servo:0,BLDC:1},servoDegreeValue180=637,servoDegreeValue270=425;var AvailibleChannelsV2,AvailibleChannelsV3,AvailibleChannelsBLDC;dubugMessages=[];var startUpHostName,startUpWebPort,startUpStaticIP,startUpLocalIP,motionChannelPhaseDebounce,validateFloatDebounce,testDeviceUseIModifier=!1,testDeviceDisableModifier=!1,testDeviceModifierValue="1000",restartClicked=!1,serverPollingTimeOut=null,websocketRetryCount=0,channelSliderList=[],restartingAndChangingAddress=!1,validPWMpins=[2,4,5,12,13,14,15,16,17,18,19,21,22,23,25,26,27,32,33],inputOnlypins=[34,35,36,39],adc1Pins=[36,37,38,39,32,33,34,35],adc2Pins=[4,0,2,15,13,12,14,27,25,26];function logdebug(e){}function onDocumentLoad(){infoNode=document.getElementById("info"),getSystemInfo(),createImportSettingsInputElement()}function getSystemInfo(){var e=new XMLHttpRequest;e.open("GET","/systemInfo",!0),e.responseType="json",e.onload=function(){200!==e.status?showError("Error loading system info!"):(systemInfo=e.response,setSystemInfo(),getUserSettings())},e.send()}function getUserSettings(){var e=new XMLHttpRequest;e.open("GET","/userSettings",!0),e.responseType="json",e.onload=function(){200!==e.status?showError("Error loading user settings!"):(userSettings=e.response,setUserSettings(),initWebSocket())},e.send()}function initWebSocket(){try{var e=(hasFeature(BuildFeature.HTTPS)?"wss://":"ws://")+window.location.host+"/ws";"function"==typeof MozWebSocket&&(WebSocket=MozWebSocket),websocket&&1==websocket.readyState&&websocket.close(),(websocket=new WebSocket(e)).onopen=function(e){logdebug("CONNECTED"),restartClicked&&(getUserSettings(),restartClicked=!1),hideLoading(),serverPollingTimeOut&&(clearTimeout(serverPollingTimeOut),serverPollingTimeOut=null),websocketRetryCount=0},websocket.onclose=function(e){logdebug("DISCONNECTED"),serverPollingTimeOut||restartingAndChangingAddress||(showLoading("Server disconnected, waiting for restart..."),checkForServer())},websocket.onmessage=function(e){wsCallBackFunction(e),logdebug("MESSAGE RECIEVED: "+e.data)},websocket.onerror=function(e){serverPollingTimeOut||restartingAndChangingAddress||(showLoading("Server error, waiting for restart..."),checkForServer())}}catch(e){serverPollingTimeOut||restartingAndChangingAddress||(showLoading("Server exception, waiting for restart..."),checkForServer())}}function wsCallBackFunction(e){try{var A=JSON.parse(e.data);switch(A.command){case"sleeveTempStatus":var t=(o=A.message).status,n=o.temp;document.getElementById("currentTempStatus").value=t,document.getElementById("currentTemp").value=n;break;case"internalTempStatus":t=(o=A.message).status,n=o.temp;document.getElementById("internalTempStatus").value=t,document.getElementById("internalTemp").value=n;break;case"tempReached":playSuccess();break;case"batteryStatus":var o,i=(o=A.message).batteryVoltage,s=o.batteryCapacityRemainingPercentage,a=o.batteryCapacityRemaining,l=o.batteryTemperature;document.getElementById("batteryVoltage").value=i,document.getElementById("batteryCapacityRemaining").value=a,document.getElementById("batteryCapacityRemainingPercentage").value=s,document.getElementById("batteryTemperature").value=l;break;case"debug":debug(A.message);break}}catch(e){}}function debug(e){debugTextElement&&(dubugMessages.length>1e3&&dubugMessages.shift(),dubugMessages.push(e),debugTextElement.value=dubugMessages.join("\n"),debugTextElement.scrollTop=debugTextElement.scrollHeight)}function setDebug(){userSettings.logLevel=parseInt(document.getElementById("debug").value);const e=document.querySelectorAll("#log-include-tags option:checked");userSettings["log-include-tags"]=Array.from(e).map((e=>e.value));const A=document.querySelectorAll("#log-exclude-tags option:checked");userSettings["log-exclude-tags"]=Array.from(A).map((e=>e.value)),updateUserSettings()}function clearTags(e){userSettings[e]=[];for(var A=document.getElementById(e),t=0;t<A.options.length;t++)A.options[t].selected=!1;updateUserSettings()}function clearLog(){debugTextElement&&(dubugMessages=[],debugTextElement.value="")}function playSuccess(){playSounds&&new Audio("data:audio/mp3;base64,SUQzAwAAAAAfdlRJVDIAAAA+AAAAZWFyY29uIGV2ZW50IG5vdGlmaWNhdGlvbiBhbGVydCBtdXNpY2FsICAodmVyIDMpIHNvdW5kIGVmZmVjdFRQRTEAAAARAAAAc291bmRlZmZlY3QuaW5mb1RBTEIAAAARAAAAc291bmRlZmZlY3QuaW5mb1RZRVIAAAAFAAAAMjAxNlRDT04AAAAFAAAAUm9ja0NPTU0AAAAPAAAAZW5nAGV4Y2VsbGVudCFUUkNLAAAABgAAADA0LzE2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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nbI6LOGdZdS5FqNy3twsesxGOco+c6rmlO+piSUEEAxBQ0IhEy4ayp4XrN7rVqcxzMZQ6Bbnlk390YD/+mBgGCvDAAMSIVRrWqJOAAAJcAAAAQuU01Gt5GtwAAAlwAAABFzE1JsAhFZSgaAb4dVZNHRGAeiKkSC4wUJJ732jX+o7FPGGVggQ2foDrbyx+I3/UpO+oojemxgtmMYzmpL5z8j/mQVoHM6dCMBBgopKUHMUHu/9SsQHJnWrta2AYYCX/pC6MmFlIUmpXl3F2GJBrFXYYVU4iQ8go/xMQhvW6SJrQYkcQO5l/n/++/zk1L65iYb8Y4TdPllTBuRRB5ycSm8uRwJIlF3a0sJmsXLtlzdaP8AElXGrrK0BKUh9KFkAAk6ZRo+2kgygdFdHgyBkL4Yb5kZFRf5+qpVCnHGs2s7/+mJg8knTAAMdNlRreTLcAAAJcAAAAQtQn0+s6KlwAAAlwAAABFj/6752QyPiAI9XG1EWRKIlXdFe9eVHVRGJHMiGREFyyxFiloEThWKLfTV/X//////////////////////////////////iCm87HbZGgB4EUyqiQYSBlcw6YB08zWaC0WqvMRNU+rbF734mSU3q1eGFhzAFArcazTY5Y/JL6bnEhqShAs0iBXDCFqEjD6ECgfMAEg8ylI0XvlxI1i/ZTsQFJXWrbI0ANARYDNF1x0ERFgbaQ0WHd8zBldM2MHR3JZlvuRj0Fq7UfdShmxwCMCd5//c9MGRMPOBUWFQKkas7//pgYP5+44AC4C7U61ka3AAACXAAAAELiL9PrWhrcAAAJcAAAASShgWUkXkAKwHFQWaXY6bOE3vMsV9f//////////////////////////////////////////////////////////////5AJvSt3a1oCKl+ImQKh4m8YyEeFY33GHMig0RjwKzeU0GqpvZzuW7kfVlCX4VZ7j37l75nn+/nH2Du6UwZ6wEtRXVV8TWXEK+TRR5TUGRjXJtZnWGsxT1r1aQC55ZLbIkA9DObhbFRcrHgmCLNYtdC4psDkjSVPMwgCD5BZpjUvKOxbljWwQOMRAd2mxrbyuybRk8UKhyw7lIS//pgYKgb9oADoTFS6zoq3AAACXAAAAELEElJreNG8AAAJcAAAARnZDuR32n1Veziw+lisYLkGPatwvStvuGdGLI////////////////////////////////////////////////////////////////////////////+kAuZ1qSNogKE0WYOLFUa2cGa0F3YjBa9rKdBj/NcLZxSn7iaj963GHbTkYufTcI7//93ilCltj3kI905TPKa8fTSi4GFtuPWiirEFN6Zu2yJAAoKHArKMCSqJBljo+HXo+g61mN4RnhLZKlXOsbs09SU8QaWtkfXgbHuPfr+UFzAooPwgGj4IXrF//pgYPSg/4AELRJSa1nRvAAACXAAAAELKMVLrGRrcAAAJcAAAARWCo8JnQdMk7FhUkE6n/f0b+iWegl///////////////////////////////////////////////////////////////////////////5Alz3W22RgBThf1QOJwCRCABKEo07pBDJX6FktXTlnqTCqeHc7W3SO2FFDq+ZzLsbVXsEz+3aEtN75dq9bqdbKq+rtFfv5/5t9mkrV7m1abo+oAyaaOyNogJmsygkwAhhBMYEcpTSG6cDIMSZcDaIYgCaxxuHDNaqww7aGCV58Vvxn//+N/+Y56smhezPHbgvp//piYBiM/4AEri1R61oa3AAACXAAAAEJQElDrWcm8AAAJcAAAARxB9usky0CJQ81iyWEFs6/1f//////////////////////////////////////////////////////////////////////////////////////////////9ICb0zckbIAhhcs0h6VQlqmGURgKxvuOSXlHxCeBXfh2/2qcUt6tdgBVdeI+892Ped+5aQRcWH2kD1ywi9PYIhXUjTh329CoAuaaSSNogLsYLbMMIhAQrBuI1LFrohM8D+h0WLsMn7P1jdcv0W7MNjAxzNOLTY5crRwKkG0mIocvWRPTyWklPv/6YGAxi/+ABG0SUetYybwAAAlwAAABCixLSa1jJvgAACXAAAAEHhHbFwsdcQW5BYornbAnZ0///////////////////////////////////////////////////////////////////////////////////////////UAbddbJG0QIEfWoDlXqHjxjFr8osGiCiqtQweHIa3YkeVKd1s7bpI2tAtOd3MAb7zvICsKYdqHuuk2sS1lipU07KtxzPJdp9laEFOa6SSNkAQJjklk8ZMcZSo/G2kMEJ24zoNe5sGUlPjWPGqXVLcoYGuUH5Qfj3n8rXrD0IOSPThciSY0DKNgFbP/6YGAvAf+ABMMVUOtZycwAAAlwAAABCNBJQazjJvAAACXAAAAEQf2mrOr/////////////////////////////////////////////////////////////////////////////////////////////////////hADlkn/SAlazKOgoQVBKAICRBKFZ0FHtHaEA2p5vrb5lVNQhs63j5AKOEYbWmx7z93sLb4sVnuzRr9t/Rb/t79keedxT+a2lRV27d+hKaAMltsbaRAE7coACDKgFAYI4ixIbpwUYup3hDFQSjvLc0b9hTcwp30AokzUmOWdc/lDZ3Ws2KJr6WUm/YYeaYP/6YGB0av+ABK0R0Gs4ybwAAAlwAAABCShJQ6znJvAAACXAAAAE52hbFd79X///////////////////////////////////////////////////////////////////////////////////////////////////////////EAnLbJJGyAHNmI+OkbCTMBoCcDT4bHCNykoVS3ueGtVTqds63UibugNaRcy33dCYEgxRSEgibhU2sNO5dxi8JxQ+kKxV9+xfiALtssbaRAD8SWOGAG8A0SIYx5WexQRQQ7p0GnHEO43qxqzk9z/wKog5wxpsus6xqTNvC6MMMZbzL0Vl0XteJP/6YmDE4P+ABJASUGs4ybwAAAlwAAABCbRLOY1jRvgAACXAAAAESVu0lYoGrCP/6f//////////////////////////////////////////////////////////////////////////////////////////////////////////ZAMksv/QBFJnIaBIuJgiKCu+GKQHPXS1wK+lE3h2tLT2jnf/tIFSRTuJVe/r921lXH/nFtY572c53v/DnDYJtsvVsv/7QQA1Z5eNbZEAJNnwoBKhAkGZCY+2tR9BlrIbAVO9tNr/khtz09rOpK2gnDJN/Z86DQczgrD9l1KjVTFy603iDQn/+mBghTL/gAS3Es7rWdG8AAAJcAAAAQj4Rz2sYybwAAAlwAAABKtavar///////////////////////////////////////////////////////////////////////////////////////////////////////////////VAEniKidtrWAJN80Cl2fERwM8Fup3QWW1V7gUlqePebqnYvLeYZVEpg3RtaazLaxrcdE9hYkYcspJjjKnniq3xKPYTf69AVAAoh5edrrWAIrQQWBCH3FjhD4xCN04OQ051hnVbDvMbh9RW//wQngXcPYVmiIqBlt9EIpWLkyQ1j3IvUsueafr/+mBglZL/gATQEs7rONG8AAAJcAAAAQigSTeNYyb4AAAlwAAABHROMThcLf///////////////////////////////////////////////////////////////////////////////////////////////////////////////+ZgBq6u0SSNkATnJoQDkoaFRkoD5i133GFMCekEraDn/92Anea7qu0A7UpfjdW0ZfTagmlQi2E69RR6pFY0oItGnoNIMwAWhXZ5JGyAKLlcwwiwCuAG7jWM9sQqepxTMFodz/5oHJX987gzInAg4ClhUwKNQtr2i2biSxSs/sGXVuL6vcj/+mBgjVP/gATED8x7ONG4AAAJcAAAAQjEPzXs4ybgAAAlwAAABP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////0QQOZeAi22RACi7YDkV8jxopa5cMUgQtiLLBHyUXcemiICqn4nsGw5s2tyqXtFVo1vCNCy9azb+KEC4v11kgZvdfJI0ABRZ3CIuMDyJlKj661HYGXshsA0b5Zb/HSFX4b1uHDKC2IRcE2oSxzxeWcpU4eEi5AdFaPY5u1np//+mBgQRH/gATbD8z7OMG4AAAJcAAAAQh0Py3s4ybgAAAlwAAABP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////0yFvdNJJIwBO5SkIEIACgUGXDV0huCI7wweW1c/HvEGC3lTah9AupqbLetavc0fM0OYaFBtxsUOuFqLEvdX9MWzCF9LN/0AXvjwXHJQnuEfTWCbL4X0IMSQQyTdgWT+JuBfgU7Wq6ioUQm7tQUxgaGpiV7cXio9etf///////////+mJg8UD/gAUUDst7OMm4AAAJcAAAAQesOzHs4gbgAAAlwAAABP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+GDLXRf/4C9yVjISwRQWZrA+4rG7ZARwqqw8t7zTrBSV+SgJ04EU4+JZh7LLHEaVT7it1hscTWaVmRRfwDgwVrI7n/Ac+4Cgb5MeBfRb2e2IyQRLWc2+d1m5xb/+IQRMweapvqikdhqm9San1Fq83cKfucr////////////////pgYHXm/4AE9A7K6zjBuAAACXAAAAEICD8prOJGwAAAJcAAAAT////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////DIVsjlWoBe/IWGVTKAxTN22CIXtlZBTsX1qcQPX2qG7iy3rx0fcfHqDMHAoWUlDENQffpURE7q45/+IXvlI0YQCxw0ox/Mkh+Ad0jo53WN7WEy6yARKOvQkWYEWJrte9DK1yC1S6Hsdchn//Z8p////////////pgYFvO/4AFDw5KYzBpuAAACXAAAAEHmDsljOGmwAAAJcAAAAT//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+Kk7XHCpQDn3Ag9O0WIBmA1lFwO1rjGjv/FxCzX4KRn0k0kCFKaLKaSCc573S8VGWOOf/wHPiKCCUkSAzQ+grRhiUgO9Z2QZSzVCcPZxr2RpTWeUlsK5Sm1wpM1va7Uz1f///////////////////pgYKL5/4AFUg7JYzh5sAAACXAAAAEGjDsljL1m4AAAJcAAAAT/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////iuWwSRxttADnzCE1RweJMtofYBPNwUJWbt/rjHbGtjKZPPYIQ+erupOmLWD7nNkIsWeDbW/4tFsWyWiORySIAc+0nUSjMZCto1aSgSOIiK/kFNtUSTPku0WeUSJp6w+4oKrlljEvWJIRFfV///////////////////piYAlk/4AFkw5JYy85sAAACXAAAAEFsDkljL1G4AAAJcAAAAT////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4sdkjcqlAOfglyn8JDilsBghAfPFT6t2ZEQtQdJ6lfqPJ6aXpdfMudbINB9YW7ayWySSMAc/BocqKHmKJH8kKA6rjf/vz7UMJDqhjaIopxNWAZQXOtH5Q2g+gl1L1awpp///////////////////6YGAsC/+ABTkOSWMpObAAAAlwAAABBvQ7JaysxsAAACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8X+2SSedADSoBCf4YsDOhcKdEyusXcVQiLqexFrvlTG9yhe08gjSKvFqcO2RuN1agDYTUTeoVugADoSqQXB4G1rTijHqUmrFC4EPCdJEjQmwz7S65f///////////////////////////////6YGDxQv+ABZUOyesnEbAAAAlwAAABBYg5JYyYpuAAACXAAAAE/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////E3kgbdUoA1QiUbSAMMCfD0IwbdXl2JW2pMQoSzU2tfGTSmrrY5ZtaAFeAVERFEkkYAawAxFC0RxjUuGYdXksACTupVY3chUgTM7maGi7Un5dmyun//////////////////////////////6YGCXof+ABagOSmsJGbAAAAlwAAABBTgZKYPkwmAAACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////BcSIRMqoBw2ONqMZgkAJnWYkCfDouaMPKyhYaK2bJ9UAInntnvDSn7regdALAAAGozVUV0PaXsbvoj5OiWWtEe4gmaXY8jWMl1qJm6///////////////////////////////////////////6YGB/wf+ABbYGSWC5GJgAAAlwAAABBQAZJYPgYmAAACXAAAAE///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////ALBAAHOR2GwRUab1wq8Uctr2Ct6mJSlFGz/ZabbNKBcSTSXgUcNGU+Lua8QsxtSWy5WeNjVIMx86LjnLmXvxdiUISr//////////////////////////////////////6YmCI//+ABaQFyni5EJAAAAlwAAABBWwTHYLgIkAAACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AKBBAE4gENYFFCx1DIvKViKkHJSYFCX8dZ0gFylNajClaF8M2WGS94kIiRmeR1ck5mNfoVsHFtrRguhrhQOL4un///////////////////////////////////////////+mBgJ4H/gAYCBMYgTwiQAAAJcAAAAQPYExiAvCJAAAAlwAAABP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////CoGaiUA6BuZqLHz29jVpFmv/dCL1Le1vVfvtJPsRBVlX8Ot7gYFnJQX1tWIWur+SHpnDJitkQmLExqklBTo1Vp//////////////////////////////////////////+mBgsS3/gAX8BEhYBXgYAAAJcAAAAQPoERiABMBAAAAlwAAABP////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////817KoBsV7erFNJowD79N7noEgEXzVpJsrl6EfW673h1f3ut/6ZFHK+a///////////////////////////////////////////////////////////////////+mBg4Hr/gAYIBEdAATAQAAAJcAAAAQO8Dx8gBEBAAAAlwAAABP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////P//////////////////////////////////////////////////////////////////////////////////////+mJg+Ir/gAYwAEdAAAAAAAAJcAAAAQNAARzAAAAAAAAlwAAABP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//pgYBbJ/4AG9gDGAAAAAAAACXAAAAEAAAEuAAAAIAAAJcAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//pgQPcd/4AG+ABLgAAACAAACXAAAAEAAAEuAAAAIAAAJcAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA").play()}function onDefaultClick(){if(confirm("WARNING! Are you sure you wish to reset ALL settings?")){infoNode.hidden=!0,infoNode.innerText="Resetting...",infoNode.style.color="black";var e=new XMLHttpRequest;e.open("POST","/default",!0),e.onreadystatechange=function(){4===e.readyState&&(getUserSettings(),infoNode.innerText="Settings reset!",infoNode.style.color="green",document.getElementById("requiresRestart").hidden=!1,setTimeout((()=>{infoNode.hidden=!0,infoNode.innerText=""}),5e3))},e.send()}}function onRestartClick(){showLoading("Device restarting..."),restartClicked=!0;var e=new XMLHttpRequest;e.open("POST","/restart",!0),e.responseType="json",e.onreadystatechange=function(){if(4===e.readyState)if(200==e.status){var A=e.response;if(logdebug("Restart succeed!"),A.apMode&&"YOUR SSID HERE"!==userSettings.ssid&&"YOUR PASSWORD HERE"!=userSettings.wifiPass&&(restartingAndChangingAddress=!0),restartingAndChangingAddress){var t=userSettings.staticIP,n=userSettings.localIP,o=userSettings.webServerPort,i="http://"+userSettings.hostname+".local",s="http://"+n;s+=80===o?"":":"+o;var a="Device restarting, the page will redirect to<br><a href='"+(i+=80===o?"":":"+o)+"'>"+i+"</a> in 15 seconds<br>";showLoading(a+=t?"If this doesnt work, you can try using this url<br><a href='"+s+"'>"+s+"</a> when the device reboots.":"If this doesnt work, you will need<br>to find the dymanic ip address of the esp32."),setTimeout((()=>{logdebug("Redirecting to: "+i),window.location.href=i}),15e3)}hideRestartRequired()}else logdebug("Restart api call fail!")},e.send()}function isWebSocketConnected(){return!!websocket&&websocket.readyState!==WebSocket.OPEN}function checkForServer(){serverPollingTimeOut&&(clearTimeout(serverPollingTimeOut),serverPollingTimeOut=null),websocketRetryCount>10?showLoading("Websocket timed out. Please refresh the page for full functionality."):isWebSocketConnected()&&websocket.readyState!==WebSocket.CONNECTING?(logdebug("Websocket closed retrying.."),initWebSocket(),websocketRetryCount++,serverPollingTimeOut=setTimeout(checkForServer,2e3)):isWebSocketConnected()&&(logdebug("Websocket open.."),serverPollingTimeOut&&(clearTimeout(serverPollingTimeOut),serverPollingTimeOut=null))}function setSystemInfo(){systemInfo||showError("Error getting system info!"),document.getElementById("version").value=systemInfo.esp32Version,document.getElementById("ipAddressSystemInfo").value=systemInfo.localIP,document.getElementById("gatewaySystemInfo").value=systemInfo.gateway,document.getElementById("subnetSystemInfo").value=systemInfo.subnet,document.getElementById("dnsSystemInfo").value=systemInfo.dns1,document.getElementById("chipModel").value=systemInfo.chipModel,document.getElementById("chipRevision").value=systemInfo.chipRevision,document.getElementById("chipCores").value=systemInfo.chipCores,document.getElementById("chipID").value=systemInfo.chipID;var e=document.getElementById("log-exclude-tags");systemInfo.availableTags.forEach((A=>{var t=document.createElement("option");t.value=A,t.innerText=A,e.appendChild(t)}));var A=document.getElementById("log-include-tags");systemInfo.availableTags.forEach((e=>{var t=document.createElement("option");t.value=e,t.innerText=e,A.appendChild(t)}));var t=document.getElementById("Display_I2C_Address");systemInfo.systemI2CAddresses.forEach((e=>{var A=document.createElement("option");A.value=e,A.innerText=e,t.appendChild(A)})),toggleBuildOptions(),document.getElementById("lastRebootReason").value=systemInfo.lastRebootReason}function setUserSettings(){userSettings||showError("Error getting user settings!"),document.getElementById("TCodeVersion").value=userSettings.TCodeVersion,toggleNonTCodev3Options(),toggleDeviceOptions(userSettings.sr6Mode),toggleStaticIPSettings(userSettings.staticIP),togglePitchServoFrequency(userSettings.pitchFrequencyIsDifferent),toggleFeedbackTwistSettings(userSettings.feedbackTwist),toggleDisplaySettings(userSettings.displayEnabled),toggleTempSettings(userSettings.tempSleeveEnabled),systemInfo.boardType===BoardType.ISAAC?(setBuildInternalTemp(!1),setBuildFanControl(!1)):(toggleInternalTempSettings(userSettings.tempInternalEnabled),toggleFanControlSettings(userSettings.fanControlEnabled)),toggleMotorTypeOptions(),toggleBatterySettings(userSettings.batteryLevelEnabled),setMotionEnabledStatus(),document.getElementById("udpServerPort").value=userSettings.udpServerPort,document.getElementById("webServerPort").value=userSettings.webServerPort,startUpWebPort=userSettings.webServerPort,document.getElementById("hostname").value=userSettings.hostname,startUpHostName=userSettings.hostname,document.getElementById("friendlyName").value=userSettings.friendlyName,document.getElementById("servoFrequency").value=userSettings.servoFrequency,document.getElementById("pitchFrequency").value=userSettings.pitchFrequency,document.getElementById("valveFrequency").value=userSettings.valveFrequency,document.getElementById("twistFrequency").value=userSettings.twistFrequency,document.getElementById("squeezeFrequency").value=userSettings.squeezeFrequency,document.getElementById("msPerRad").value=userSettings.msPerRad,document.getElementById("feedbackTwist").checked=userSettings.feedbackTwist,document.getElementById("continuousTwist").checked=userSettings.continuousTwist,document.getElementById("analogTwist").checked=userSettings.analogTwist,document.getElementById("TwistFeedBack_PIN").value=userSettings.TwistFeedBack_PIN,document.getElementById("RightServo_PIN").value=userSettings.RightServo_PIN,document.getElementById("LeftServo_PIN").value=userSettings.LeftServo_PIN,document.getElementById("RightUpperServo_PIN").value=userSettings.RightUpperServo_PIN,document.getElementById("LeftUpperServo_PIN").value=userSettings.LeftUpperServo_PIN,document.getElementById("PitchLeftServo_PIN").value=userSettings.PitchLeftServo_PIN,document.getElementById("PitchRightServo_PIN").value=userSettings.PitchRightServo_PIN,document.getElementById("ValveServo_PIN").value=userSettings.ValveServo_PIN,document.getElementById("TwistServo_PIN").value=userSettings.TwistServo_PIN,document.getElementById("Vibe0_PIN").value=userSettings.Vibe0_PIN,document.getElementById("Vibe1_PIN").value=userSettings.Vibe1_PIN,document.getElementById("Vibe2_PIN").value=userSettings.Vibe2_PIN,document.getElementById("Vibe3_PIN").value=userSettings.Vibe3_PIN,document.getElementById("LubeButton_PIN").value=userSettings.LubeButton_PIN,document.getElementById("Squeeze_PIN").value=userSettings.Squeeze_PIN,document.getElementById("BLDC_MotorA_Voltage").value=userSettings.BLDC_MotorA_Voltage,document.getElementById("BLDC_MotorA_Current").value=userSettings.BLDC_MotorA_Current,document.getElementById("BLDC_Encoder_PIN").value=userSettings.BLDC_Encoder_PIN,document.getElementById("BLDC_Enable_PIN").value=userSettings.BLDC_Enable_PIN,document.getElementById("BLDC_PWMchannel1_PIN").value=userSettings.BLDC_PWMchannel1_PIN,document.getElementById("BLDC_PWMchannel2_PIN").value=userSettings.BLDC_PWMchannel2_PIN,document.getElementById("BLDC_PWMchannel3_PIN").value=userSettings.BLDC_PWMchannel3_PIN,document.getElementById("RightServo_ZERO").value=userSettings.RightServo_ZERO,document.getElementById("LeftServo_ZERO").value=userSettings.LeftServo_ZERO,document.getElementById("RightUpperServo_ZERO").value=userSettings.RightUpperServo_ZERO,document.getElementById("LeftUpperServo_ZERO").value=userSettings.LeftUpperServo_ZERO,document.getElementById("PitchLeftServo_ZERO").value=userSettings.PitchLeftServo_ZERO,document.getElementById("PitchRightServo_ZERO").value=userSettings.PitchRightServo_ZERO,document.getElementById("ValveServo_ZERO").value=userSettings.ValveServo_ZERO,document.getElementById("TwistServo_ZERO").value=userSettings.TwistServo_ZERO,document.getElementById("Squeeze_ZERO").value=userSettings.Squeeze_ZERO,document.getElementById("lubeEnabled").checked=userSettings.lubeEnabled,document.getElementById("lubeAmount").value=userSettings.lubeAmount,document.getElementById("sr6Mode").checked=userSettings.sr6Mode,document.getElementById("autoValve").checked=userSettings.autoValve,document.getElementById("inverseValve").checked=userSettings.inverseValve,document.getElementById("valveServo90Degrees").checked=userSettings.valveServo90Degrees,document.getElementById("inverseStroke").checked=userSettings.inverseStroke,document.getElementById("inversePitch").checked=userSettings.inversePitch,document.getElementById("displayEnabled").checked=userSettings.displayEnabled,document.getElementById("sleeveTempDisplayed").checked=userSettings.sleeveTempDisplayed,document.getElementById("internalTempDisplayed").checked=userSettings.internalTempDisplayed,document.getElementById("versionDisplayed").checked=userSettings.versionDisplayed,document.getElementById("tempSleeveEnabled").checked=userSettings.tempSleeveEnabled,document.getElementById("tempInternalEnabled").checked=userSettings.tempInternalEnabled,document.getElementById("pitchFrequencyIsDifferent").checked=userSettings.pitchFrequencyIsDifferent,document.getElementById("Display_Screen_Width").value=userSettings.Display_Screen_Width,document.getElementById("Display_Screen_Height").value=userSettings.Display_Screen_Height,32==userSettings.Display_Screen_Height&&(document.getElementById("displayIs32Px").checked=!0),document.getElementById("TargetTemp").value=userSettings.TargetTemp,document.getElementById("HeatPWM").value=userSettings.HeatPWM,document.getElementById("HoldPWM").value=userSettings.HoldPWM,document.getElementById("Display_I2C_Address").value=userSettings.Display_I2C_Address,document.getElementById("Display_I2C_Address_text").value=userSettings.Display_I2C_Address,document.getElementById("Temp_PIN").value=userSettings.Temp_PIN,document.getElementById("Heater_PIN").value=userSettings.Heater_PIN,document.getElementById("heaterThreshold").value=userSettings.heaterThreshold,document.getElementById("heaterResolution").value=userSettings.heaterResolution,document.getElementById("heaterFrequency").value=userSettings.heaterFrequency,document.getElementById("ssid").value=userSettings.ssid,document.getElementById("wifiPass").value=userSettings.wifiPass,document.getElementById("staticIP").checked=userSettings.staticIP,startUpStaticIP=userSettings.staticIP,document.getElementById("localIPInput").value=userSettings.localIP,startUpLocalIP=userSettings.localIP,document.getElementById("gatewayInput").value=userSettings.gateway,document.getElementById("subnetInput").value=userSettings.subnet,document.getElementById("dns1Input").value=userSettings.dns1,document.getElementById("dns2Input").value=userSettings.dns2,document.getElementById("Display_Screen_Width").readOnly=!0,document.getElementById("Display_Screen_Height").readOnly=!0,document.getElementById("Internal_Temp_PIN").value=userSettings.Internal_Temp_PIN,document.getElementById("fanControlEnabled").checked=userSettings.fanControlEnabled,document.getElementById("internalTempForFan").value=userSettings.internalTempForFan,document.getElementById("internalMaxTemp").value=userSettings.internalMaxTemp,document.getElementById("Case_Fan_PIN").value=userSettings.Case_Fan_PIN,document.getElementById("caseFanResolution").value=userSettings.caseFanResolution,document.getElementById("caseFanFrequency").value=userSettings.caseFanFrequency,document.getElementById("batteryLevelEnabled").checked=userSettings.batteryLevelEnabled,document.getElementById("batteryLevelNumeric").checked=userSettings.batteryLevelNumeric,document.getElementById("batteryCapacityMax").value=userSettings.batteryCapacityMax,document.getElementById("debug").value=userSettings.logLevel;for(var e=document.getElementById("log-include-tags"),A=0;A<e.options.length;A++)e.options[A].selected=userSettings["log-include-tags"].indexOf(e.options[A].value)>=0;var t=document.getElementById("log-exclude-tags");for(A=0;A<t.options.length;A++)t.options[A].selected=userSettings["log-exclude-tags"].indexOf(t.options[A].value)>=0;removeAllChildren(document.getElementById("motionProfiles")),userSettings.motionProfiles.forEach(((e,A)=>{addMotionProfileOption(A,e,A==userSettings.motionDefaultProfileIndex)}));const n=userSettings.motionDefaultProfileIndex;document.getElementById("motionProfiles").value=n,document.getElementById("motionProfileName").value=userSettings.motionProfiles[n].motionProfileName,document.getElementById("motionUpdateGlobal").value=userSettings.motionProfiles[n].motionUpdateGlobal,document.getElementById("motionPeriodGlobal").value=userSettings.motionProfiles[n].motionPeriodGlobal,document.getElementById("motionAmplitudeGlobal").value=userSettings.motionProfiles[n].motionAmplitudeGlobal,document.getElementById("motionOffsetGlobal").value=userSettings.motionProfiles[n].motionOffsetGlobal,document.getElementById("motionPeriodGlobalRandom").checked=userSettings.motionProfiles[n].motionPeriodGlobalRandom,document.getElementById("motionAmplitudeGlobalRandom").checked=userSettings.motionProfiles[n].motionAmplitudeGlobalRandom,document.getElementById("motionOffsetGlobalRandom").checked=userSettings.motionProfiles[n].motionOffsetGlobalRandom,toggleMotionRandomSettings(),document.getElementById("motionPeriodGlobalRandomMin").value=userSettings.motionProfiles[n].motionPeriodGlobalRandomMin,document.getElementById("motionPeriodGlobalRandomMax").value=userSettings.motionProfiles[n].motionPeriodGlobalRandomMax,document.getElementById("motionAmplitudeGlobalRandomMin").value=userSettings.motionProfiles[n].motionAmplitudeGlobalRandomMin,document.getElementById("motionAmplitudeGlobalRandomMax").value=userSettings.motionProfiles[n].motionAmplitudeGlobalRandomMax,document.getElementById("motionOffsetGlobalRandomMin").value=userSettings.motionProfiles[n].motionOffsetGlobalRandomMin,document.getElementById("motionOffsetGlobalRandomMax").value=userSettings.motionProfiles[n].motionOffsetGlobalRandomMax,document.getElementById("motionRandomChangeMax").value=userSettings.motionProfiles[n].motionRandomChangeMax,document.getElementById("motionRandomChangeMin").value=userSettings.motionProfiles[n].motionRandomChangeMin,setIntMinAndMax("motionPeriodGlobalRandomMin","motionPeriodGlobalRandomMax"),setIntMinAndMax("motionAmplitudeGlobalRandomMin","motionAmplitudeGlobalRandomMax"),setIntMinAndMax("motionOffsetGlobalRandomMin","motionOffsetGlobalRandomMax"),setIntMinAndMax("motionRandomChangeMin","motionRandomChangeMax"),document.getElementById("voiceEnabled").checked=userSettings.voiceEnabled,document.getElementById("voiceMuted").checked=userSettings.voiceMuted,document.getElementById("voiceVolume").value=userSettings.voiceVolume,document.getElementById("voiceWakeTime").value=userSettings.voiceWakeTime,AvailibleChannelsV2=[{channel:"L0",channelName:"Stroke",switch:!1,sr6Only:!1},{channel:"L1",channelName:"Surge",switch:!1,sr6Only:!0},{channel:"L2",channelName:"Sway",switch:!1,sr6Only:!0},{channel:"L3",channelName:"Suck",switch:!1,sr6Only:!1},{channel:"R0",channelName:"Twist",switch:!1,sr6Only:!1},{channel:"R1",channelName:"Roll",switch:!1,sr6Only:!1},{channel:"R2",channelName:"Pitch",switch:!1,sr6Only:!1},{channel:"V0",channelName:"Vibe 0",switch:!0,sr6Only:!1},{channel:"V1",channelName:"Vibe 1/Lube",switch:!0,sr6Only:!1}],AvailibleChannelsV3=[{channel:"L0",channelName:"Stroke",switch:!1,sr6Only:!1},{channel:"L1",channelName:"Surge",switch:!1,sr6Only:!0},{channel:"L2",channelName:"Sway",switch:!1,sr6Only:!0},{channel:"R0",channelName:"Twist",switch:!1,sr6Only:!1},{channel:"R1",channelName:"Roll",switch:!1,sr6Only:!1},{channel:"R2",channelName:"Pitch",switch:!1,sr6Only:!1},{channel:"V0",channelName:"Vibe 1",switch:!0,sr6Only:!1},{channel:"V1",channelName:"Vibe 2",switch:!0,sr6Only:!1},{channel:"V2",channelName:"Vibe 3",switch:!0,sr6Only:!1},{channel:"V3",channelName:"Vibe 4",switch:!0,sr6Only:!1},{channel:"A0",channelName:"Suck manual",switch:!1,sr6Only:!1},{channel:"A1",channelName:"Suck level",switch:!1,sr6Only:!1},{channel:"A2",channelName:"Lube",switch:!0,sr6Only:!1},{channel:"A3",channelName:"Auxiliary",switch:!1,sr6Only:!1}],AvailibleChannelsBLDC=[{channel:"L0",channelName:"Stroke",switch:!1,sr6Only:!1},{channel:"V0",channelName:"Vibe 1",switch:!0,sr6Only:!1},{channel:"V1",channelName:"Vibe 2",switch:!0,sr6Only:!1},{channel:"V2",channelName:"Vibe 3",switch:!0,sr6Only:!1},{channel:"V3",channelName:"Vibe 4",switch:!0,sr6Only:!1},{channel:"A0",channelName:"Suck manual",switch:!1,sr6Only:!1},{channel:"A1",channelName:"Suck level",switch:!1,sr6Only:!1},{channel:"A2",channelName:"Lube",switch:!0,sr6Only:!1}],setupChannelSliders(),documentLoaded=!0}function removeAllChildren(e){if(e)for(;e.firstChild;)e.removeChild(e.lastChild)}function hasFeature(e){return systemInfo.buildFeatures.includes(e)}function toggleBuildOptions(){const e=hasFeature(BuildFeature.TEMP);for(var A=document.getElementsByClassName("build_temprature"),t=0;t<A.length;t++)A[t].hidden=!e;var n=document.getElementsByClassName("build_display");const o=hasFeature(BuildFeature.DISPLAY_);for(t=0;t<n.length;t++)n[t].hidden=!o;var i=document.getElementById("TCodeVersion");hasTCodeV2()||availableVersions.splice(availableVersions.findIndex((e=>e.version===TCodeVersion.V2)),1),availableVersions.forEach((e=>{const A=document.createElement("option");A.value=e.version,A.innerText=e.versionName,i.appendChild(A)}))}function toggleMotorTypeOptions(){if(systemInfo.motorType===MotorType.Servo)for(var e=document.getElementsByClassName("BLDCOnly"),A=0;A<e.length;A++)e[A].style.display="none";else{var t=document.getElementsByClassName("servoOnly");for(A=0;A<t.length;A++)t[A].style.display="none"}}function updateUserSettings(e=3e3){documentLoaded&&(null!==upDateTimeout&&clearTimeout(upDateTimeout),upDateTimeout=setTimeout((()=>{startUpWebPort===userSettings.webServerPort&&startUpHostName===userSettings.hostname&&startUpStaticIP===userSettings.staticIP&&startUpLocalIP===userSettings.localIP||(restartingAndChangingAddress=!0),infoNode.hidden=!1,infoNode.innerText="Saving...",infoNode.style.color="white";var e=new XMLHttpRequest,A={};e.open("POST","/settings",!0),e.onreadystatechange=function(){4===e.readyState&&(""===e.responseText?A.msg=e.status+": "+e.statusText:A=JSON.parse(e.responseText),"done"!==A.msg?(infoNode.hidden=!0,infoNode.innerText="",showError("Error saving: "+A.msg),getUserSettings()):(infoNode.visibility="visible",infoNode.innerText="Settings saved!",infoNode.style.color="green",restartRequired&&showRestartRequired(),setTimeout((()=>{infoNode.hidden=!0,infoNode.innerText=""}),5e3)))},e.setRequestHeader("Content-Type","application/json");var t=JSON.stringify(userSettings);e.send(t),upDateTimeout=null}),e))}function showRestartRequired(){document.getElementById("resetBtn").classList.add("restart-required"),document.getElementById("menu-button").classList.add("restart-required")}function hideRestartRequired(){document.getElementById("resetBtn").classList.remove("restart-required"),document.getElementById("menu-button").classList.remove("restart-required")}function showLoading(e){var A=document.getElementById("loadingModal");document.getElementById("loadingStatus").innerHTML=e,A.style.visibility="visible",loadingVisible=!0}function hideLoading(){document.getElementById("loadingModal").style.visibility="hidden",loadingVisible=!1}function toggleMenu(){var e=document.getElementById("menu"),A=document.getElementById("menu-button"),t=document.getElementById("menu-content");t.classList.toggle("menu-hidden"),t.classList.toggle("menu-shown"),A.classList.toggle("button-pressed"),e.classList.toggle("menu-hidden"),e.classList.toggle("menu-shown")}function clearErrors(e){for(var A=document.getElementById("errorText"),t=document.getElementsByName(e),n=0;n<t.length;n++)A.removeChild(t[n]);""!=A.innerText||A.firstChild||closeError()}function closeError(){document.getElementById("errorText").innerHTML="",document.getElementById("errorMessage").hidden=!0}function showError(e){document.getElementById("errorText").innerHTML+=e,document.getElementById("errorMessage").hidden=!1}function sendWebsocketCommand(e,A){websocket.send('{"command":"'+e+'", "message": "'+A+'"}')}function sendTCode(e){websocket.send(e+String.fromCharCode(10))}function sendDeviceHome(){channelSliderList.forEach((e=>e.value=e.channelModel.switch?0:50));var e=systemInfo.motorType==MotorType.Servo?isTCodeV3()?AvailibleChannelsV3:AvailibleChannelsV2:AvailibleChannelsBLDC,A="";e.forEach(((e,t,n)=>{A+=getSliderTCode(e.channel,e.switch?0:50,!1,1e3,!1),t!==n.length-1&&(A+=" ")})),sendTCode(A)}function getSliderTCode(e,A,t,n,o){var i=e+percentageToTcode(A).toString().padStart(isTCodeV3()?4:3,"0");return o||(i+=t?"I":"S",i+=n),i}function setupChannelSliders(){var e=document.getElementById("channelTestsTable");deleteAllChildren(e);var A=document.createElement("div");e.appendChild(A);var t=document.createElement("div"),n=document.createElement("div");n.classList.add("tHeader"),n.colSpan="2",n.style.textAlign="center";var o=document.createElement("h3");o.innerText="Test",n.appendChild(o),t.appendChild(n),A.appendChild(t);var i=document.createElement("div");i.classList.add("tRow");var s=document.createElement("div");s.classList.add("tCell"),s.innerText="TCode input: awaiting user...",s.colSpan="2",s.style.justifyContent="flex-start",i.appendChild(s),A.appendChild(i),channelSliderList=[];for(var a=getChannelMap(),l=0;l<a.length;l++)if(userSettings.sr6Mode||!a[l].sr6Only){var r=a[l].channel,d=a[l].channelName,u=document.createElement("div");u.classList.add("tRow");var m=document.createElement("div");m.classList.add("tCell"),m.innerText=d+" ("+r+")";var c=document.createElement("div");c.classList.add("tCell"),u.appendChild(m),u.appendChild(c);var g=document.createElement("input");g.style.width="100%",g.type="range",g.id=r+"TestSlider",g.min=0,g.max=99,g.channelModel=a[l],g.value=a[l].switch?0:50,g.addEventListener("input",function(e,A,t,n){var o=getSliderTCode(A,e.value,testDeviceUseIModifier,testDeviceModifierValue,testDeviceDisableModifier);sendTCode(o),n.innerText="TCode input: "+o+" ("+t+")"}.bind(null,g,r,d,s)),channelSliderList.push(g),c.appendChild(g),A.appendChild(u)}var p=document.createElement("input");p.value=testDeviceModifierValue,p.type="number",p.min="1",p.step="1",p.addEventListener("input",(e=>{testDeviceModifierValue=e.target.value}));var v=document.createElement("div");v.classList.add("tRow");var S=document.createElement("div");S.classList.add("tCell"),S.innerText="Magnitude (I/S) value";var I=document.createElement("div");I.classList.add("tCell"),I.appendChild(p),v.appendChild(S),v.appendChild(I),A.appendChild(v);var h=document.createElement("input");h.type="checkbox",h.checked=testDeviceUseIModifier,h.addEventListener("click",(e=>{testDeviceUseIModifier=e.target.checked}));var y=document.createElement("div");y.classList.add("tRow");var f=document.createElement("div");f.classList.add("tCell"),f.innerText="Use Magnitude + Time Interval (I)";var E=document.createElement("div");E.classList.add("tCell"),E.appendChild(h),y.appendChild(f),y.appendChild(E),A.appendChild(y);var b=document.createElement("input");b.type="checkbox",b.checked=testDeviceDisableModifier,b.addEventListener("click",(e=>{testDeviceDisableModifier=e.target.checked}));var P=document.createElement("div");P.classList.add("tRow");var B=document.createElement("div");B.classList.add("tCell"),B.innerText="Disable magnitude";var C=document.createElement("td");C.classList.add("tCell"),C.appendChild(b),P.appendChild(B),P.appendChild(C),A.appendChild(P);var R=document.createElement("button");R.addEventListener("click",(e=>{sendDeviceHome()})),R.innerText="All home";var T=document.createElement("div");T.classList.add("tRow");var M=document.createElement("div");M.classList.add("tCell"),M.style.justifyContent="flex-end",M.colSpan=2,M.appendChild(R),T.appendChild(M),A.appendChild(T),loadChannelRanges(),setupMotionChannels()}function setupMotionChannels(){var e=document.getElementById("motionChannels");deleteAllChildren(e);var A=getChannelMap(),t=document.createElement("div");t.innerText="Generate motion on channels:",e.appendChild(t);for(var n=0;n<A.length;n++){var o=A[n];if(userSettings.sr6Mode||!o.sr6Only){var i=document.createElement("div");i.classList.add("tRow");var s=document.createElement("div");s.classList.add("tCell");var a=document.createElement("div");a.classList.add("tCell");var l=o.channel,r=o.channelName,d=userSettings.motionChannels.findIndex((e=>e.name==l)),u=document.createElement("span");u.for="motionChannelCheckbox"+l,u.innerText=r+" ("+l+")";var m=document.createElement("input");m.id="motionChannelCheckbox"+l,m.type="checkbox",m.value=l,m.checked=d>-1,m.onclick=function(){var e=this.value,A=document.getElementById("motionChannelPhaseInput"+e);A.readOnly=!this.checked,this.checked||(A.value=0);const t=userSettings.motionChannels.findIndex((A=>A.name==e));var n={name:e,phase:0};t>-1&&(n=userSettings.motionChannels[t],userSettings.motionChannels.splice(t,1)),this.checked&&userSettings.motionChannels.push(n),updateUserSettings()};var c=document.createElement("input");c.id="motionChannelPhaseInput"+l,c.type="number",c.min=0,c.step=.01,c.readOnly=-1==d,c.value=-1==d?0:userSettings.motionChannels[d].phase,c.name=l,c.oninput=function(){motionChannelPhaseDebounce&&clearTimeout(motionChannelPhaseDebounce),motionChannelPhaseDebounce=setTimeout((()=>{var e=this.name;const A=userSettings.motionChannels.findIndex((A=>A.name==e));A>-1&&(userSettings.motionChannels[A].phase=this.value),updateUserSettings(1)}),3e3)},s.appendChild(u),s.appendChild(m),a.appendChild(c),i.appendChild(s),i.appendChild(a),e.appendChild(i)}}}function deleteAllChildren(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function isTCodeV3(){return userSettings.TCodeVersion>=TCodeVersion.V3}function hasTCodeV2(){return hasFeature(BuildFeature.HAS_TCODE_V2)}function getTCodeMax(){return isTCodeV3()?9999:999}function isPinsEditable(){return systemInfo.boardType===BoardType.DEVKIT}function getChannelMap(){return systemInfo.motorType==MotorType.Servo?isTCodeV3()?AvailibleChannelsV3:AvailibleChannelsV2:AvailibleChannelsBLDC}function onChannelSliderInput(e,A){sendTCode(e+A.toString().padStart(isTCodeV3()?4:3,"0")+"S1000")}function getTCodeMax(){return isTCodeV3()?9999:999}function tcodeToPercentage(e){return convertRange(0,getTCodeMax(),0,99,e)}function percentageToTcode(e){return convertRange(0,99,0,getTCodeMax(),e)}function convertRange(e,A,t,n,o){var i=(n-t)/(A-e);return Math.round(t+i*(o-e))}function onSpeedInput(){var e=parseInt(document.getElementById("speedInput").value);userSettings.speed=e>999?e:0,updateSpeedUI(e),updateUserSettings()}function updateUdpPort(){userSettings.udpServerPort=parseInt(document.getElementById("udpServerPort").value),setRestartRequired(),updateUserSettings()}function updateWebPort(){userSettings.webServerPort=parseInt(document.getElementById("webServerPort").value),setRestartRequired(),updateUserSettings()}function setPitchFrequencyIsDifferent(){var e=document.getElementById("pitchFrequencyIsDifferent").checked;userSettings.pitchFrequencyIsDifferent=e,togglePitchServoFrequency(e)}function updateServoFrequency(){var e=document.getElementById("servoFrequency");e.checkValidity()?userSettings.servoFrequency=parseInt(e.value):showError(e.validationMessage);var A=document.getElementById("pitchFrequency");A.checkValidity()?userSettings.pitchFrequency=parseInt(A.value):showError(A.validationMessage);var t=document.getElementById("valveFrequency");t.checkValidity()?userSettings.valveFrequency=parseInt(t.value):showError(t.validationMessage),(n=document.getElementById("twistFrequency")).checkValidity()?userSettings.twistFrequency=parseInt(n.value):showError(n.validationMessage);var n=document.getElementById("twistFrequency"),o=document.getElementById("squeezeFrequency");o.checkValidity()?userSettings.squeezeFrequency=parseInt(o.value):showError(o.validationMessage),setRestartRequired(),updateUserSettings()}function updateMSPerRad(e){var A=document.getElementById("msPerRad");return A.checkValidity()?(userSettings.msPerRad=parseInt(A.value),e||(document.getElementById("msPerRadIs270").checked=425==userSettings.msPerRad),setRestartRequired(),updateUserSettings(),!0):(showError(A.validationMessage),!1)}function toggleMsPerRadIs270(){var e=document.getElementById("msPerRad"),A=document.getElementById("msPerRadIs270");const t=e.value;A.checked?e.value=425:e.value=637,updateMSPerRad(!0)||(A.checked=!A.checked,e.value=t)}function updateContinuousTwist(){var e=document.getElementById("continuousTwist").checked;e?confirm("WARNING! If you enable continuous twist\nMAKE SURE THERE ARE NO WIRES CONNECTED TO YOUR FLESHLIGHT CASE!\nThis can twist the wires and possible injury can occur.\n CONFIRM THERE ARE NO WIRES CONNECTED?")?(userSettings.continuousTwist=e,updateUserSettings()):document.getElementById("continuousTwist").checked=!1:(userSettings.continuousTwist=!1,updateUserSettings())}function updateAnalogTwist(){var e=document.getElementById("analogTwist").checked;userSettings.analogTwist=e,e?(document.getElementById("TwistFeedBack_PIN").value=32,userSettings.TwistFeedBack_PIN=32,alert("Note, twist feedback pin has been changed to analog input pin 32.\nPlease adjust your hardware accordingly.")):(document.getElementById("TwistFeedBack_PIN").value=26,userSettings.TwistFeedBack_PIN=26,alert("Note, twist feedback pin reset to 26.\nPlease adjust your hardware accordingly.")),setRestartRequired(),updateUserSettings()}function updateFeedbackTwist(){var e=document.getElementById("feedbackTwist").checked;userSettings.feedbackTwist=e,toggleFeedbackTwistSettings(e),setRestartRequired(),updateUserSettings()}function toggleFeedbackTwistSettings(e){for(var A=document.getElementsByClassName("feedbackTwistOnly"),t=0;t<A.length;t++)A[t].style.display=e?"flex":"none";e&&!isTCodeV3()&&(document.getElementById("analogTwistRow").style.display="none")}function toggleBatterySettings(e){for(var A=document.getElementsByClassName("batteryOnly"),t=0;t<A.length;t++)A[t].style.display=e?"flex":"none"}function updateHostName(){userSettings.hostname=document.getElementById("hostname").value,setRestartRequired(),updateUserSettings()}function updateFriendlyName(){userSettings.friendlyName=document.getElementById("friendlyName").value,setRestartRequired(),updateUserSettings()}function setSR6Mode(){userSettings.sr6Mode=document.getElementById("sr6Mode").checked,toggleDeviceOptions(userSettings.sr6Mode),setupChannelSliders(),setRestartRequired(),updateUserSettings()}function setAutoValve(){userSettings.autoValve=document.getElementById("autoValve").checked,updateUserSettings()}function setInverseValve(){userSettings.inverseValve=document.getElementById("inverseValve").checked,updateUserSettings()}function setValveServo90Degrees(){var e=document.getElementById("valveServo90Degrees").checked;e?confirm("WARNING! If you 90 degree servo\nMAKE SURE YOU ARE NOT USING THE T-Valve LID!\nThe servo will stall hitting the wall and burn out!")?(userSettings.valveServo90Degrees=e,updateUserSettings()):document.getElementById("valveServo90Degrees").checked=!1:(userSettings.valveServo90Degrees=!1,updateUserSettings())}function setInverseStroke(){userSettings.inverseStroke=document.getElementById("inverseStroke").checked,updateUserSettings()}function setInversePitch(){userSettings.inversePitch=document.getElementById("inversePitch").checked,updateUserSettings()}function disablePinValidation(){!userSettings.disablePinValidation&&confirm("This will disable ALL PIN validations.\nBe sure you know what you're doing!")?userSettings.disablePinValidation=!0:(userSettings.disablePinValidation=!1,document.getElementById("disablePinValidation").checked=!1),updateUserSettings()}function updateBLDCSettings(){userSettings.BLDC_MotorA_Voltage=parseFloat(document.getElementById("BLDC_MotorA_Voltage").value),userSettings.BLDC_MotorA_Current=parseFloat(document.getElementById("BLDC_MotorA_Current").value),setRestartRequired(),updateUserSettings()}function updateBLDCPins(){null!==upDateTimeout&&clearTimeout(upDateTimeout),upDateTimeout=setTimeout((()=>{var e=validateBLDCPins();e&&(userSettings.BLDC_Encoder_PIN=e.BLDC_Encoder_PIN,userSettings.BLDC_Enable_PIN=e.BLDC_Enable_PIN,userSettings.BLDC_PWMchannel1_PIN=e.BLDC_PWMchannel1_PIN,userSettings.BLDC_PWMchannel2_PIN=e.BLDC_PWMchannel2_PIN,userSettings.BLDC_PWMchannel3_PIN=e.BLDC_PWMchannel3_PIN,updateCommonPins(e),setRestartRequired(),updateUserSettings())}),2e3)}function updatePins(){systemInfo.motorType!=MotorType.BLDC?(null!==upDateTimeout&&clearTimeout(upDateTimeout),upDateTimeout=setTimeout((()=>{var e=validatePins();e&&(userSettings.TwistServo_PIN=e.twistServo,userSettings.RightServo_PIN=e.rightPin,userSettings.LeftServo_PIN=e.leftPin,userSettings.RightUpperServo_PIN=e.rightUpper,userSettings.LeftUpperServo_PIN=e.leftUpper,userSettings.PitchLeftServo_PIN=e.pitchLeft,userSettings.PitchRightServo_PIN=e.pitchRight,userSettings.Squeeze_PIN=e.squeezeServo,updateCommonPins(e),setRestartRequired(),updateUserSettings())}),2e3)):updateBLDCPins()}function updateCommonPins(e){userSettings.ValveServo_PIN=e.valveServo,userSettings.Vibe0_PIN=e.vibe0,userSettings.Vibe1_PIN=e.vibe1,userSettings.Vibe2_PIN=e.vibe2,userSettings.Vibe3_PIN=e.vibe3,userSettings.LubeButton_PIN=e.lubeButton,userSettings.tempSleeveEnabled&&(userSettings.Heater_PIN=e.heat),userSettings.tempInternalEnabled&&(userSettings.Case_Fan_PIN=e.caseFanPin),userSettings.tempSleeveEnabled&&(userSettings.Temp_PIN=e.temp),userSettings.feedbackTwist&&(userSettings.TwistFeedBack_PIN=e.twistFeedBack),userSettings.tempInternalEnabled&&(userSettings.Internal_Temp_PIN=e.internalTemp)}function setIntMax(e,A){(A=document.getElementById(e)).setAttribute("max",parseInt(A))}function setIntMinAndMax(e,A){var t=document.getElementById(e),n=document.getElementById(A);t.setAttribute("max",parseInt(n.value)-1),n.setAttribute("min",parseInt(t.value)+1)}function validateIntControl(e,A,t,n){var o=document.getElementById(e);return n&&n(o.value)||o.checkValidity()?(A[t]=parseInt(o.value),!0):(showError(`${e} is invalid: ${o.errorText}`),!1)}function validateFloatControl(e,A,t,n){var o=document.getElementById(e);return n&&n(o.value)||o.checkValidity()?(A[t]=parseInt(o.value),!0):(showError(`${e} is invalid: ${o.errorText}`),!1)}function validateStringControl(e,A,t,n){var o=document.getElementById(e);return n&&n(o.value)||o.checkValidity()?(A[t&&t.trim().length?t:e]=o.value,!0):(showError(`${e} is invalid: ${o.errorText}`),!1)}function validatePins(){if(systemInfo.motorType==MotorType.BLDC)return validateBLDCPins();clearErrors("pinValidation");var e,A=[],t=[],n=[],o=getServoPinValues();if(userSettings.disablePinValidation)return o;(e=A.findIndex((e=>e.pin===o.twistServo)))>-1&&t.push("Twist servo pin and "+A[e].name),-1==validPWMpins.indexOf(o.twistServo)&&n.push("Twist servo pin: "+o.twistServo),A.push({name:"Twist servo",pin:o.twistServo}),(e=A.findIndex((e=>e.pin===o.squeezeServo)))>-1&&t.push("Squeeze servo pin and "+A[e].name),-1==validPWMpins.indexOf(o.squeezeServo)&&n.push("Squeeze servo pin: "+o.squeezeServo),A.push({name:"Squeeze servo",pin:o.squeezeServo}),(e=A.findIndex((e=>e.pin===o.rightPin)))>-1&&t.push("Right servo pin and "+A[e].name),-1==validPWMpins.indexOf(o.rightPin)&&n.push("Right servo pin: "+o.rightPin),A.push({name:"Right servo",pin:o.rightPin}),(e=A.findIndex((e=>e.pin===o.leftPin)))>-1&&t.push("Left servo pin and "+A[e].name),-1==validPWMpins.indexOf(o.leftPin)&&n.push("Left servo pin: "+o.leftPin),A.push({name:"Left servo",pin:o.leftPin}),userSettings.sr6Mode&&((e=A.findIndex((e=>e.pin===o.rightUpper)))>-1&&t.push("Right upper servo pin and "+A[e].name),-1==validPWMpins.indexOf(o.rightUpper)&&n.push("Right upper servo pin: "+o.rightUpper),A.push({name:"Right upper servo",pin:o.rightUpper}),(e=A.findIndex((e=>e.pin===o.leftUpper)))>-1&&t.push("Left upper servo pin and "+A[e].name),-1==validPWMpins.indexOf(o.leftUpper)&&n.push("Left upper servo pin: "+o.leftUpper),A.push({name:"Left upper servo",pin:o.leftUpper}),(e=A.findIndex((e=>e.pin===o.pitchRight)))>-1&&t.push("Pitch right servo pin and "+A[e].name),-1==validPWMpins.indexOf(o.pitchRight)&&n.push("Pitch right servo pin: "+o.pitchRight),A.push({name:"Pitch right servo",pin:o.pitchRight})),(e=A.findIndex((e=>e.pin===o.pitchLeft)))>-1&&t.push("Pitch left servo pin and "+A[e].name),-1==validPWMpins.indexOf(o.pitchLeft)&&n.push("Pitch left servo pin: "+o.pitchLeft),A.push({name:"Pitch left servo",pin:o.pitchLeft}),validateCommonPWMPins(A,t,o);var i=[];if(validateNonPWMPins(A,t,i,o),t.length||n.length||i.length){var s="<div name='pinValidation'>Pins NOT saved due to invalid input.<br>";return t.length&&(s+="<div style='margin-left: 25px;'>The following pins are duplicated:<br><div style='color: white; margin-left: 25px;'>"+t.join("<br>")+"</div></div>"),i.length&&(t.length&&(s+="<br>"),s+="<div style='margin-left: 25px;'>The following pins are invalid:<br><div style='color: white; margin-left: 25px;'>"+i.join("<br>")+"</div></div>"),n.length&&((t.length||i.length)&&(s+="<br>"),s+="<div style='margin-left: 25px;'>The following pins are invalid PWM pins:<br><div style='color: white; margin-left: 25px;'>"+n.join("<br>")+"</div></div>"),void showError(s+="</div>")}return o}function validateBLDCPins(){clearErrors("pinValidation");var e=[],A=[],t=[],n=getBLDCPinValues();if(userSettings.disablePinValidation)return n;var o=e.findIndex((e=>e.pin===n.BLDC_Encoder_PIN));o>-1&&A.push("Encoder pin and "+e[o].name),e.push({name:"Encoder",pin:n.BLDC_Encoder_PIN}),(o=e.findIndex((e=>e.pin===n.BLDC_Enable_PIN)))>-1&&A.push("Enable pin and "+e[o].name),e.push({name:"Enable",pin:n.BLDC_Enable_PIN}),(o=e.findIndex((e=>e.pin===n.BLDC_PWMchannel1_PIN)))>-1&&A.push("PWMchannel1 pin and "+e[o].name),-1==validPWMpins.indexOf(n.BLDC_PWMchannel1_PIN)&&t.push("PWMchannel1 pin: "+n.BLDC_PWMchannel1_PIN),e.push({name:"PWMchannel1",pin:n.BLDC_PWMchannel1_PIN}),(o=e.findIndex((e=>e.pin===n.BLDC_PWMchannel2_PIN)))>-1&&A.push("PWMchannel2 pin and "+e[o].name),-1==validPWMpins.indexOf(n.BLDC_PWMchannel2_PIN)&&t.push("PWMchannel2 pin: "+n.BLDC_PWMchannel2_PIN),e.push({name:"PWMchannel2",pin:n.BLDC_PWMchannel2_PIN}),(o=e.findIndex((e=>e.pin===n.BLDC_PWMchannel3_PIN)))>-1&&A.push("PWMchannel3 pin and "+e[o].name),-1==validPWMpins.indexOf(n.BLDC_PWMchannel3_PIN)&&t.push("PWMchannel3pin: "+n.BLDC_PWMchannel3_PIN),e.push({name:"PWMchannel3",pin:n.BLDC_PWMchannel3_PIN}),validateCommonPWMPins(e,A,n,t);var i=[];if(validateNonPWMPins(e,A,i,n),A.length||t.length||i.length){var s="<div name='pinValidation'>Pins NOT saved due to invalid input.<br>";return A.length&&(s+="<div style='margin-left: 25px;'>The following pins are duplicated:<br><div style='color: white; margin-left: 25px;'>"+A.join("<br>")+"</div></div>"),i.length&&(A.length&&(s+="<br>"),s+="<div style='margin-left: 25px;'>The following pins are invalid:<br><div style='color: white; margin-left: 25px;'>"+i.join("<br>")+"</div></div>"),t.length&&((A.length||i.length)&&(s+="<br>"),s+="<div style='margin-left: 25px;'>The following pins are invalid PWM pins:<br><div style='color: white; margin-left: 25px;'>"+t.join("<br>")+"</div></div>"),void showError(s+="</div>")}return n}function validateCommonPWMPins(e,A,t,n){var o=e.findIndex((e=>e.pin===t.valveServo));o>-1&&A.push("Valve servo pin and "+e[o].name),-1==validPWMpins.indexOf(t.valveServo)&&n.push("Valve servo pin: "+t.valveServo),e.push({name:"Valve servo",pin:t.valveServo}),(o=e.findIndex((e=>e.pin===t.vibe0)))>-1&&A.push("Vibe 1 pin and "+e[o].name),-1==validPWMpins.indexOf(t.vibe0)&&n.push("Vibe 1 pin: "+t.vibe0),e.push({name:"Vibe 1",pin:t.vibe0}),(o=e.findIndex((e=>e.pin===t.vibe1)))>-1&&A.push("Lube/Vibe 2 pin and "+e[o].name),-1==validPWMpins.indexOf(t.vibe1)&&n.push("Lube/Vibe 1 pin: "+t.vibe1),e.push({name:"Lube/Vibe 1",pin:t.vibe1}),(o=e.findIndex((e=>e.pin===t.vibe2)))>-1&&A.push("Vibe 3 pin and "+e[o].name),-1==validPWMpins.indexOf(t.vibe2)&&n.push("Vibe 3 pin: "+t.vibe2),e.push({name:"Vibe 3",pin:t.vibe2}),(o=e.findIndex((e=>e.pin===t.vibe3)))>-1&&A.push("Vibe 4 pin and "+e[o].name),-1==validPWMpins.indexOf(t.vibe3)&&n.push("Vibe 4 pin: "+t.vibe3),e.push({name:"Vibe 4",pin:t.vibe3}),userSettings.tempSleeveEnabled&&((o=e.findIndex((e=>e.pin===t.heat)))>-1&&A.push("Heater pin and "+e[o].name),-1==validPWMpins.indexOf(t.heat)&&n.push("Heater pin: "+t.heat),e.push({name:"Heater",pin:t.heat})),userSettings.tempInternalEnabled&&((o=e.findIndex((e=>e.pin===t.caseFanPin)))>-1&&A.push("Case fan pin and "+e[o].name),-1==validPWMpins.indexOf(t.caseFanPin)&&n.push("Case fan pin: "+t.caseFanPin),e.push({name:"Case fan pin",pin:t.caseFanPin}))}function validateNonPWMPins(e,A,t,n){var o=e.findIndex((e=>e.pin===n.lubeButton));return-1==validPWMpins.indexOf(n.lubeButton)&&-1==inputOnlypins.indexOf(n.lubeButton)&&t.push("Invalid Lube button pin: "+n.lubeButton),o>-1&&A.push("Lube button pin and "+e[o].name),e.push({name:"Lube button",pin:n.lubeButton}),userSettings.tempSleeveEnabled&&(-1==validPWMpins.indexOf(n.temp)&&-1==inputOnlypins.indexOf(n.temp)&&t.push("Invalid Sleeve temp pin: "+n.temp),(o=e.findIndex((e=>e.pin===n.temp)))>-1&&A.push("Temp pin and "+e[o].name),e.push({name:"Temp",pin:n.temp})),userSettings.tempInternalEnabled&&(-1==validPWMpins.indexOf(n.internalTemp)&&-1==inputOnlypins.indexOf(n.internalTemp)&&t.push("Invalid Internal temp pin: "+n.internalTemp),(o=e.findIndex((e=>e.pin===n.internalTemp)))>-1&&A.push("Internal temp pin and "+e[o].name),e.push({name:"Internal temp",pin:n.internalTemp})),userSettings.batteryLevelEnabled,userSettings.feedbackTwist&&n.twistFeedBack&&(-1==validPWMpins.indexOf(n.twistFeedBack)&&-1==inputOnlypins.indexOf(n.twistFeedBack)&&t.push("Invalid Twist feedback pin: "+n.twistFeedBack),(o=e.findIndex((e=>e.pin===n.twistFeedBack)))>-1&&A.push("Twist feedback pin and "+e[o].name),e.push({name:"Twist feed back",pin:n.twistFeedBack})),!A.length&&!t.length}function getBLDCPinValues(){var e={};return e.BLDC_Encoder_PIN=parseInt(document.getElementById("BLDC_Encoder_PIN").value),e.BLDC_Enable_PIN=parseInt(document.getElementById("BLDC_Enable_PIN").value),e.BLDC_PWMchannel1_PIN=parseInt(document.getElementById("BLDC_PWMchannel1_PIN").value),e.BLDC_PWMchannel2_PIN=parseInt(document.getElementById("BLDC_PWMchannel2_PIN").value),e.BLDC_PWMchannel3_PIN=parseInt(document.getElementById("BLDC_PWMchannel3_PIN").value),getCommonPinValues(e),e}function getServoPinValues(){var e={};return e.twistServo=parseInt(document.getElementById("TwistServo_PIN").value),e.squeezeServo=parseInt(document.getElementById("Squeeze_PIN").value),e.rightPin=parseInt(document.getElementById("RightServo_PIN").value),e.leftPin=parseInt(document.getElementById("LeftServo_PIN").value),e.rightUpper=parseInt(document.getElementById("RightUpperServo_PIN").value),e.leftUpper=parseInt(document.getElementById("LeftUpperServo_PIN").value),e.pitchRight=parseInt(document.getElementById("PitchRightServo_PIN").value),e.pitchLeft=parseInt(document.getElementById("PitchLeftServo_PIN").value),e.twistFeedBack=parseInt(document.getElementById("TwistFeedBack_PIN").value),getCommonPinValues(e),e}function getCommonPinValues(e){e.valveServo=parseInt(document.getElementById("ValveServo_PIN").value),e.vibe0=parseInt(document.getElementById("Vibe0_PIN").value),e.vibe1=parseInt(document.getElementById("Vibe1_PIN").value),e.vibe2=parseInt(document.getElementById("Vibe2_PIN").value),e.vibe3=parseInt(document.getElementById("Vibe3_PIN").value),e.heat=parseInt(document.getElementById("Heater_PIN").value),e.caseFanPin=parseInt(document.getElementById("Case_Fan_PIN").value),e.lubeButton=parseInt(document.getElementById("LubeButton_PIN").value),e.temp=parseInt(document.getElementById("Temp_PIN").value),e.internalTemp=parseInt(document.getElementById("Internal_Temp_PIN").value)}function updateZeros(){null!==upDateTimeout&&clearTimeout(upDateTimeout),upDateTimeout=setTimeout((()=>{clearErrors("zeroValidation");var e=!0,A=[],t=parseInt(document.getElementById("RightServo_ZERO").value);(!t||t>1750||t<1250)&&(e=!1,A.push("Right servo ZERO"));var n=parseInt(document.getElementById("LeftServo_ZERO").value);(!n||n>1750||n<1250)&&(e=!1,A.push("Left servo ZERO"));var o=parseInt(document.getElementById("RightUpperServo_ZERO").value);(!o||o>1750||o<1250)&&(e=!1,A.push("Right upper servo ZERO"));var i=parseInt(document.getElementById("LeftUpperServo_ZERO").value);(!i||i>1750||i<1250)&&(e=!1,A.push("Left upper servo ZERO"));var s=parseInt(document.getElementById("PitchLeftServo_ZERO").value);(!s||s>1750||s<1250)&&(e=!1,A.push("Pitch left servo ZERO"));var a=parseInt(document.getElementById("PitchRightServo_ZERO").value);(!a||a>1750||a<1250)&&(e=!1,A.push("Pitch right servo ZERO"));var l=parseInt(document.getElementById("ValveServo_ZERO").value);(!l||l>1750||l<1250)&&(e=!1,A.push("Valve servo ZERO"));var r=parseInt(document.getElementById("TwistServo_ZERO").value);(!r||r>1750||r<1250)&&(e=!1,A.push("Twist servo ZERO"));var d=parseInt(document.getElementById("Squeeze_ZERO").value);(!d||d>1750||d<1250)&&(e=!1,A.push("Squeeze servo ZERO")),e?(userSettings.RightServo_ZERO=t,userSettings.LeftServo_ZERO=n,userSettings.RightUpperServo_ZERO=o,userSettings.LeftUpperServo_ZERO=i,userSettings.PitchLeftServo_ZERO=s,userSettings.PitchRightServo_ZERO=a,userSettings.ValveServo_ZERO=l,userSettings.TwistServo_ZERO=r,updateUserSettings()):showError("<div name='zeroValidation'>Zeros NOT saved due to invalid input.<br><div style='margin-left: 25px;'>The values should be between 1250 and 1750 for the following:<br><div style='color: white; margin-left: 25px;'>"+A.join("<br>")+"</div></div></div>")}),2e3)}function updateLubeAmount(){userSettings.lubeAmount=parseInt(document.getElementById("lubeAmount").value),updateUserSettings()}function toggleDisplaySettings(e){e?hasFeature(BuildFeature.DISPLAY_)&&(document.getElementById("displaySettingsDisplayTable").hidden=!1):document.getElementById("displaySettingsDisplayTable").hidden=!0;for(var A=document.getElementsByClassName("displayOnly"),t=0;t<A.length;t++)A[t].style.display=displayEnabled?"flex":"none"}function toggleTempSettings(e){e?hasFeature(BuildFeature.TEMP)&&(document.getElementById("tempSettingsDisplayTable").hidden=!1,document.getElementById("sleeveTempDisplayedRow").hidden=!1):(document.getElementById("tempSettingsDisplayTable").hidden=!0,document.getElementById("sleeveTempDisplayedRow").hidden=!0)}function setBuildInternalTemp(e){for(var A=document.getElementsByClassName("internal-temp-build"),t=0;t<A.length;t++)A[t].style.display=e?"flex":"none";toggleInternalTempSettings(e)}function toggleInternalTempSettings(e){e?hasFeature(BuildFeature.TEMP)&&(document.getElementById("internalTempTable").hidden=!1,document.getElementById("internalTempDisplayedRow").hidden=!1):(document.getElementById("internalTempTable").hidden=!0,document.getElementById("internalTempDisplayedRow").hidden=!0)}function setDiplayIs32Px(){var e=document.getElementById("Display_Screen_Height");document.getElementById("displayIs32Px").checked?e.value=32:e.value=64,userSettings.Display_Screen_Height=parseInt(e.value),setRestartRequired(),updateUserSettings()}function setDisplaySettings(){userSettings.displayEnabled=document.getElementById("displayEnabled").checked,toggleDisplaySettings(userSettings.displayEnabled),userSettings.Display_I2C_Address=document.getElementById("Display_I2C_Address_text").value,userSettings.sleeveTempDisplayed=document.getElementById("sleeveTempDisplayed").checked,userSettings.internalTempDisplayed=document.getElementById("internalTempDisplayed").checked,userSettings.versionDisplayed=document.getElementById("versionDisplayed").checked,setRestartRequired(),updateUserSettings()}function setDisplayAddress(){var e=document.getElementById("Display_I2C_Address").value;document.getElementById("Display_I2C_Address_text").value=e,userSettings.Display_I2C_Address=e,setRestartRequired(),updateUserSettings()}function setTempSettings(){userSettings.tempSleeveEnabled=document.getElementById("tempSleeveEnabled").checked,toggleTempSettings(userSettings.tempSleeveEnabled),userSettings.TargetTemp=parseFloat(document.getElementById("TargetTemp").value),userSettings.HeatPWM=parseInt(document.getElementById("HeatPWM").value),userSettings.HoldPWM=parseInt(document.getElementById("HoldPWM").value),userSettings.heaterThreshold=parseInt(document.getElementById("heaterThreshold").value),userSettings.heaterResolution=parseInt(document.getElementById("heaterResolution").value),userSettings.heaterFrequency=parseInt(document.getElementById("heaterFrequency").value),setRestartRequired(),updateUserSettings()}function setInternalTempSettings(){userSettings.tempInternalEnabled=document.getElementById("tempInternalEnabled").checked,userSettings.caseFanResolution=parseInt(document.getElementById("caseFanResolution").value),userSettings.caseFanFrequency=parseInt(document.getElementById("caseFanFrequency").value),toggleInternalTempSettings(userSettings.tempInternalEnabled),setRestartRequired(),updateUserSettings()}function setBatterySettings(){userSettings.batteryLevelEnabled=document.getElementById("batteryLevelEnabled").checked,toggleBatterySettings(userSettings.batteryLevelEnabled),userSettings.batteryLevelNumeric=document.getElementById("batteryLevelNumeric").checked,userSettings.batteryCapacityMax=parseFloat(document.getElementById("batteryCapacityMax").value),setRestartRequired(),updateUserSettings()}function setBatteryFull(){sendWebsocketCommand("setBatteryFull")}function toggleMotionRandomSettings(){var e=getMotionProfileSelectedIndex();toggleControlVisabilityByID("motionOffsetGlobalRandomMinRow",userSettings.motionProfiles[e].motionOffsetGlobalRandom),toggleControlVisabilityByID("motionOffsetGlobalRandomMaxRow",userSettings.motionProfiles[e].motionOffsetGlobalRandom),toggleControlVisabilityByID("motionAmplitudeGlobalRandomMinRow",userSettings.motionProfiles[e].motionAmplitudeGlobalRandom),toggleControlVisabilityByID("motionAmplitudeGlobalRandomMaxRow",userSettings.motionProfiles[e].motionAmplitudeGlobalRandom),toggleControlVisabilityByID("motionPeriodGlobalRandomMinRow",userSettings.motionProfiles[e].motionPeriodGlobalRandom),toggleControlVisabilityByID("motionPeriodGlobalRandomMaxRow",userSettings.motionProfiles[e].motionPeriodGlobalRandom),toggleMotionRandomMinMaxSettingsSettings()}function toggleMotionRandomMinMaxSettingsSettings(){var e=getMotionProfileSelectedIndex();toggleControlVisabilityByID("motionRandomChangeMinRow",userSettings.motionProfiles[e].motionOffsetGlobalRandom||userSettings.motionProfiles[e].motionAmplitudeGlobalRandom||userSettings.motionProfiles[e].motionPeriodGlobalRandom),toggleControlVisabilityByID("motionRandomChangeMaxRow",userSettings.motionProfiles[e].motionOffsetGlobalRandom||userSettings.motionProfiles[e].motionAmplitudeGlobalRandom||userSettings.motionProfiles[e].motionPeriodGlobalRandom)}function setMotionEnabledClicked(){userSettings.motionEnabled=!userSettings.motionEnabled,sendTCode(userSettings.motionEnabled?"$motion-enable":"$motion-disable"),setMotionEnabledStatus()}function setMotionEnabledStatus(){var e=document.getElementById("motionEnabledToggle");e.innerText=userSettings.motionEnabled?"Stop":"Start",userSettings.motionEnabled?(e.classList.add("button-toggle-stop"),e.classList.remove("button-toggle-start")):(e.classList.remove("button-toggle-stop"),e.classList.add("button-toggle-start"))}function setMotionPeriodGlobalRandomClicked(){var e=getMotionProfileSelectedIndex(),A=document.getElementById("motionPeriodGlobalRandom").checked;sendTCode(A?"$motion-period-random-on":"$motion-period-random-off"),userSettings.motionProfiles[e].motionPeriodGlobalRandom=A,toggleControlVisabilityByID("motionPeriodGlobalRandomMinRow",userSettings.motionProfiles[e].motionPeriodGlobalRandom),toggleControlVisabilityByID("motionPeriodGlobalRandomMaxRow",userSettings.motionProfiles[e].motionPeriodGlobalRandom),toggleMotionRandomMinMaxSettingsSettings(),updateUserSettings()}function setMotionAmplitudeGlobalRandomClicked(){var e=getMotionProfileSelectedIndex(),A=document.getElementById("motionAmplitudeGlobalRandom").checked;sendTCode(A?"$motion-amplitude-random-on":"$motion-amplitude-random-off"),userSettings.motionProfiles[e].motionAmplitudeGlobalRandom=A,toggleControlVisabilityByID("motionAmplitudeGlobalRandomMinRow",userSettings.motionProfiles[e].motionAmplitudeGlobalRandom),toggleControlVisabilityByID("motionAmplitudeGlobalRandomMaxRow",userSettings.motionProfiles[e].motionAmplitudeGlobalRandom),toggleMotionRandomMinMaxSettingsSettings(),updateUserSettings()}function setMotionOffsetGlobalRandomRandomClicked(){var e=getMotionProfileSelectedIndex(),A=document.getElementById("motionOffsetGlobalRandom").checked;sendTCode(A?"$motion-offset-random-on":"$motion-offset-random-off"),userSettings.motionProfiles[e].motionOffsetGlobalRandom=A,toggleControlVisabilityByID("motionOffsetGlobalRandomMinRow",userSettings.motionProfiles[e].motionOffsetGlobalRandom),toggleControlVisabilityByID("motionOffsetGlobalRandomMaxRow",userSettings.motionProfiles[e].motionOffsetGlobalRandom),toggleMotionRandomMinMaxSettingsSettings(),updateUserSettings()}function setMotionProfileDefault(){userSettings.motionDefaultProfileIndex=getMotionProfileSelectedIndex(),updateUserSettings(1)}document.addEventListener("DOMContentLoaded",(function(){onDocumentLoad()}));var validateGeneratorSettingsDebounce,setMotionGeneratorNameDebounce,selectedMotionProfileIndex=0;function getMotionProfileSelectedIndex(){return selectedMotionProfileIndex}function setSelectedMotionProfileIndex(e){selectedMotionProfileIndex=parseInt(e)}function clearMotionProfileSelection(){var e=document.getElementsByName("motionProfileButton");e&&e.forEach((e=>e.classList.remove("button-pressed")))}function selectMotionProfile(e,A){clearMotionProfileSelection(),setSelectedMotionProfileIndex(e);document.getElementById(`motionProfile${e}`).classList.add("button-pressed"),setMotionGeneratorSettingsProfile(e),A&&sendTCode(`$motion-set-profile:${e+1}`)}function setMotionGeneratorSettings(){validateGeneratorSettingsDebounce&&clearTimeout(validateGeneratorSettingsDebounce),validateGeneratorSettingsDebounce=setTimeout((()=>{var e=getMotionProfileSelectedIndex();validateIntControl("motionUpdateGlobal",userSettings.motionProfiles[e],"motionUpdateGlobal"),validateIntControl("motionPeriodGlobal",userSettings.motionProfiles[e],"motionPeriodGlobal"),validateIntControl("motionAmplitudeGlobal",userSettings.motionProfiles[e],"motionAmplitudeGlobal"),validateIntControl("motionOffsetGlobal",userSettings.motionProfiles[e],"motionOffsetGlobal"),setIntMinAndMax("motionPeriodGlobalRandomMin","motionPeriodGlobalRandomMax"),validateIntControl("motionPeriodGlobalRandomMin",userSettings.motionProfiles[e],"motionPeriodGlobalRandomMin"),validateIntControl("motionPeriodGlobalRandomMax",userSettings.motionProfiles[e],"motionPeriodGlobalRandomMax"),setIntMinAndMax("motionAmplitudeGlobalRandomMin","motionAmplitudeGlobalRandomMax"),validateIntControl("motionAmplitudeGlobalRandomMin",userSettings.motionProfiles[e],"motionAmplitudeGlobalRandomMin"),validateIntControl("motionAmplitudeGlobalRandomMax",userSettings.motionProfiles[e],"motionAmplitudeGlobalRandomMax"),setIntMinAndMax("motionOffsetGlobalRandomMin","motionOffsetGlobalRandomMax"),validateIntControl("motionOffsetGlobalRandomMin",userSettings.motionProfiles[e],"motionOffsetGlobalRandomMin"),validateIntControl("motionOffsetGlobalRandomMax",userSettings.motionProfiles[e],"motionOffsetGlobalRandomMax"),setIntMinAndMax("motionRandomChangeMin","motionRandomChangeMax"),validateIntControl("motionRandomChangeMin",userSettings.motionProfiles[e],"motionRandomChangeMin"),validateIntControl("motionRandomChangeMax",userSettings.motionProfiles[e],"motionRandomChangeMax"),updateUserSettings(1)}),3e3)}function setMotionGeneratorName(){setMotionGeneratorNameDebounce&&clearTimeout(setMotionGeneratorNameDebounce),setMotionGeneratorNameDebounce=setTimeout((()=>{var e=getMotionProfileSelectedIndex();validateStringControl("motionProfileName",userSettings.motionProfiles[e])&&(updateMotionProfileName(e),updateUserSettings(1))}),3e3)}function addMotionProfileOption(e,A,t){const n=document.getElementById("motionProfiles");var o=document.createElement("button");o.id=`motionProfile${e}`,o.name="motionProfileButton",o.value=e,o.innerText=A.motionProfileName,o.onclick=function(e,A){selectMotionProfile(e,!0)}.bind(this,e),n.appendChild(o),t&&selectMotionProfile(e)}function updateMotionProfileName(e){const A=document.getElementsByName("motionProfileButton");for(var t=getMotionProfileSelectedIndex(),n=0;n<A.length;n++)if(A[n].value==e){t=n;break}A[t].innerText=userSettings.motionProfiles[e].motionProfileName}function setMotionGeneratorSettingsDefault(){var e=getMotionProfileSelectedIndex();confirm(`Are you sure you want to set the current profile '${userSettings.motionProfiles[e].motionProfileName}' to the default settings?`)&&(setProfileMotionGeneratorSettingsDefault(e),updateUserSettings(1))}function setProfileMotionGeneratorSettingsDefault(e){userSettings.motionProfiles[e].motionProfileName="Profile "+e+1,userSettings.motionProfiles[e].motionUpdateGlobal=100,userSettings.motionProfiles[e].motionPeriodGlobal=2e3,userSettings.motionProfiles[e].motionAmplitudeGlobal=60,userSettings.motionProfiles[e].motionOffsetGlobal=5e3,userSettings.motionProfiles[e].motionPeriodGlobalRandom=!1,userSettings.motionProfiles[e].motionPeriodGlobalRandomMin=500,userSettings.motionProfiles[e].motionPeriodGlobalRandomMax=2e3,userSettings.motionProfiles[e].motionAmplitudeGlobalRandom=!1,userSettings.motionProfiles[e].motionAmplitudeGlobalRandomMin=20,userSettings.motionProfiles[e].motionAmplitudeGlobalRandomMax=60,userSettings.motionProfiles[e].motionOffsetGlobalRandom=!1,userSettings.motionProfiles[e].motionOffsetGlobalRandomMin=3e3,userSettings.motionProfiles[e].motionOffsetGlobalRandomMax=7e3,userSettings.motionProfiles[e].motionRandomChangeMinDefault=3e3,userSettings.motionProfiles[e].motionRandomChangeMaxDefault=3e4,userSettings.motionProfiles[e].motionPhaseGlobal=0,userSettings.motionProfiles[e].motionReversedGlobal=!1,setMotionGeneratorSettingsProfile(e)}function setMotionGeneratorSettingsProfile(e){document.getElementById("motionProfileName").value=userSettings.motionProfiles[e].motionProfileName,document.getElementById("motionUpdateGlobal").value=userSettings.motionProfiles[e].motionUpdateGlobal,document.getElementById("motionPeriodGlobal").value=userSettings.motionProfiles[e].motionPeriodGlobal,document.getElementById("motionAmplitudeGlobal").value=userSettings.motionProfiles[e].motionAmplitudeGlobal,document.getElementById("motionOffsetGlobal").value=userSettings.motionProfiles[e].motionOffsetGlobal,document.getElementById("motionPeriodGlobalRandom").checked=userSettings.motionProfiles[e].motionPeriodGlobalRandom,document.getElementById("motionPeriodGlobalRandomMin").value=userSettings.motionProfiles[e].motionPeriodGlobalRandomMin,document.getElementById("motionPeriodGlobalRandomMax").value=userSettings.motionProfiles[e].motionPeriodGlobalRandomMax,document.getElementById("motionAmplitudeGlobalRandom").checked=userSettings.motionProfiles[e].motionAmplitudeGlobalRandom,document.getElementById("motionAmplitudeGlobalRandomMin").value=userSettings.motionProfiles[e].motionAmplitudeGlobalRandomMin,document.getElementById("motionAmplitudeGlobalRandomMax").value=userSettings.motionProfiles[e].motionAmplitudeGlobalRandomMax,document.getElementById("motionOffsetGlobalRandom").checked=userSettings.motionProfiles[e].motionOffsetGlobalRandom,document.getElementById("motionOffsetGlobalRandomMin").value=userSettings.motionProfiles[e].motionOffsetGlobalRandomMin,document.getElementById("motionOffsetGlobalRandomMax").value=userSettings.motionProfiles[e].motionOffsetGlobalRandomMax,toggleMotionRandomSettings()}function toggleVoiceSettings(){userSettings.voiceEnabled=document.getElementById("voiceEnabled").checked,setRestartRequired(),updateUserSettings()}function setVoiceSettings(){userSettings.voiceMuted=document.getElementById("voiceMuted").checked,validateIntControl("voiceVolume",userSettings,"voiceVolume"),validateIntControl("voiceWakeTime",userSettings,"voiceWakeTime"),updateUserSettings()}function setFanControl(){userSettings.fanControlEnabled=document.getElementById("fanControlEnabled").checked,toggleFanControlSettings(userSettings.fanControlEnabled),setRestartRequired(),updateUserSettings()}function setFanOnTemp(){userSettings.internalTempForFan=parseFloat(document.getElementById("internalTempForFan").value),updateUserSettings()}function setMaxTemp(){userSettings.internalMaxTemp=parseFloat(document.getElementById("internalMaxTemp").value),updateUserSettings()}function setBuildFanControl(e){for(var A=document.getElementsByClassName("fan-control-build"),t=0;t<A.length;t++)A[t].style.display=e?"flex":"none";toggleFanControlSettings(e)}function toggleFanControlSettings(e){for(var A=document.getElementsByClassName("fan-control"),t=0;t<A.length;t++)A[t].style.display=e?"flex":"none"}function connectWifi(){}function showWifiPassword(){var e=document.getElementById("wifiPass");"password"===e.type?e.type="text":e.type="password"}function updateWifiSettings(){userSettings.ssid=document.getElementById("ssid").value,userSettings.wifiPass=document.getElementById("wifiPass").value;var e=document.getElementById("staticIP").checked,A=document.getElementById("localIPInput").value,t=document.getElementById("gatewayInput").value,n=document.getElementById("subnetInput").value,o=document.getElementById("dns1Input").value,i=document.getElementById("dns2Input").value;userSettings.staticIP=e,toggleStaticIPSettings(e),userSettings.localIP=A,userSettings.gateway=t,userSettings.subnet=n,userSettings.dns1=o,userSettings.dns2=i,setRestartRequired(),updateUserSettings()}function toggleControlVisabilityByID(e,A){document.getElementById(e).style.display=A?"flex":"none"}function toggleControlVisabilityByName(e,A){for(var t=document.getElementByName(e),n=0;n<t.length;n++)t[n].style.display=A?"flex":"none"}function toggleControlVisabilityByClassName(e,A){for(var t=document.getElementByClassName(e),n=0;n<t.length;n++)t[n].style.display=A?"flex":"none"}function togglePitchServoFrequency(e){document.getElementById("pitchFrequencyRow").hidden=!e}function toggleStaticIPSettings(e){e?(document.getElementById("localIP").hidden=!1,document.getElementById("gateway").hidden=!1,document.getElementById("subnet").hidden=!1,document.getElementById("dns1").hidden=!1,document.getElementById("dns2").hidden=!1):(document.getElementById("localIP").hidden=!0,document.getElementById("gateway").hidden=!0,document.getElementById("subnet").hidden=!0,document.getElementById("dns1").hidden=!0,document.getElementById("dns2").hidden=!0)}function toggleDeviceOptions(e){for(var A=document.getElementsByClassName("osrOnly"),t=document.getElementsByClassName("sr6Only"),n=0;n<t.length;n++)t[n].style.display=e?"flex":"none";for(n=0;n<A.length;n++)A[n].style.display=e?"none":"flex";e&&425==userSettings.msPerRad&&(document.getElementById("msPerRadIs270").checked=!0)}function toggleNonTCodev3Options(){for(var e=document.getElementsByClassName("v2Only"),A=document.getElementsByClassName("v3Only"),t=0;t<A.length;t++)A[t].style.display=isTCodeV3()?"flex":"none";for(t=0;t<e.length;t++)e[t].style.display=isTCodeV3()?"none":"flex";toggleFeedbackTwistSettings(userSettings.feedbackTwist),userSettings.feedbackTwist&&!isTCodeV3()&&(document.getElementById("analogTwistRow").style.display="none")}function updateBlueToothSettings(){userSettings.bluetoothEnabled=document.getElementById("bluetoothEnabled").checked,userSettings.bluetoothEnabled&&alert("EXPEREMENTAL! this is a bit slow and will not work will with fast input!\nThis will DISABLE Wifi connection and this configuration web page upon device reboot!\nThe BLE app will be REQUIRED for future configuration changes."),setRestartRequired(),updateUserSettings()}function setTCodeVersion(){userSettings.TCodeVersion=parseInt(document.getElementById("TCodeVersion").value),toggleNonTCodev3Options(),setupChannelSliders(),setRestartRequired(),updateUserSettings()}function setRestartRequired(){documentLoaded&&(restartRequired=!0)}function updateLubeEnabled(){userSettings.lubeEnabled=document.getElementById("lubeEnabled").checked,updateUserSettings()}function toggleSounds(){playSounds=document.getElementById("soundsEnabled").checked,document.getElementsByName("testSoundButton").forEach((e=>{e.hidden=!playSounds}))}function exportToJsonFile(){alert("Wifi password will NOT be exported!"),userSettings.wifiPass="YOUR PASSWORD HERE";let e=JSON.stringify(userSettings),A="data:application/json;charset=utf-8,"+encodeURIComponent(e),t="userSettings_"+userSettings.esp32Version+".json",n=document.createElement("a");n.setAttribute("href",A),n.setAttribute("download",t),n.click()}function createImportSettingsInputElement(){(importSettingsInputElement=document.createElement("input")).type="file",importSettingsInputElement.accept="application/json,.json",importSettingsInputElement.addEventListener("change",importSettings)}function openImportSettingsFileDialog(){importSettingsInputElement.dispatchEvent(new MouseEvent("click"))}function importSettings(){if(importSettingsInputElement.files.length>0){var e=importSettingsInputElement.files[0],A=new FileReader;A.addEventListener("load",(()=>{var e=A.result,t=JSON.parse(e);Object.keys(t).forEach((function(e,A){var n=t[e],o=userSettings[e];null!=o&&null!=o?userSettings[e]=n:handleImportRenames(e,n)})),-1==availableVersions.findIndex((e=>e.version==userSettings.TCodeVersion))&&(userSettings.TCodeVersion=latestTCodeVersion,document.getElementById("TCodeVersion").value=userSettings.TCodeVersion,toggleNonTCodev3Options()),setUserSettings(),validatePins()&&(setRestartRequired(),updateUserSettings())}),!1),A.readAsText(e)}}function handleImportRenames(e,A){"LubeManual_PIN"==e&&(userSettings.LubeButton_PIN=A)}